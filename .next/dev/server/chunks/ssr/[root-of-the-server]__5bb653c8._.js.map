{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/context/CartContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { CartItem, Product } from '../types';\n\ninterface CartContextType {\n  cart: CartItem[];\n  addToCart: (product: Product, quantity?: number, size?: string, color?: string, preventDrawer?: boolean) => void;\n  removeFromCart: (id: string) => void;\n  updateQuantity: (id: string, quantity: number) => void;\n  clearCart: () => void;\n  cartTotal: number;\n  cartCount: number;\n  isCartOpen: boolean;\n  setIsCartOpen: (isOpen: boolean) => void;\n  wishlist: string[];\n  toggleWishlist: (id: string) => void;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport const CartProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [cart, setCart] = useState<CartItem[]>([]);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [wishlist, setWishlist] = useState<string[]>([]);\n\n  // Load from local storage\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    const savedWishlist = localStorage.getItem('wishlist');\n    if (savedCart) setCart(JSON.parse(savedCart));\n    if (savedWishlist) setWishlist(JSON.parse(savedWishlist));\n  }, []);\n\n  // Save to local storage\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n    localStorage.setItem('wishlist', JSON.stringify(wishlist));\n  }, [cart, wishlist]);\n\n  const addToCart = (product: Product, quantity = 1, size?: string, color?: string, preventDrawer = false) => {\n    setCart(prev => {\n      const existing = prev.find(item => item.id === product.id && item.selectedSize === size && item.selectedColor === color);\n      if (existing) {\n        return prev.map(item =>\n          (item.id === product.id && item.selectedSize === size && item.selectedColor === color)\n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n      }\n      return [...prev, { ...product, quantity, selectedSize: size, selectedColor: color }];\n    });\n\n    if (!preventDrawer) {\n      setIsCartOpen(true);\n    }\n  };\n\n  const removeFromCart = (id: string) => {\n    setCart(prev => prev.filter(item => item.id !== id));\n  };\n\n  const updateQuantity = (id: string, quantity: number) => {\n    if (quantity < 1) return;\n    setCart(prev => prev.map(item => item.id === id ? { ...item, quantity } : item));\n  };\n\n  const clearCart = () => setCart([]);\n\n  const toggleWishlist = (id: string) => {\n    setWishlist(prev => prev.includes(id) ? prev.filter(pid => pid !== id) : [...prev, id]);\n  };\n\n  const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n  const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);\n\n  return (\n    <CartContext.Provider value={{\n      cart, addToCart, removeFromCart, updateQuantity, clearCart,\n      cartTotal, cartCount, isCartOpen, setIsCartOpen,\n      wishlist, toggleWishlist\n    }}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => {\n  const context = useContext(CartContext);\n  if (!context) throw new Error('useCart must be used within a CartProvider');\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAmBA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,MAAM,eAAwD,CAAC,EAAE,QAAQ,EAAE;IAChF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAa,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAW,EAAE;IAErD,0BAA0B;IAC1B,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,MAAM,gBAAgB,aAAa,OAAO,CAAC;QAC3C,IAAI,WAAW,QAAQ,KAAK,KAAK,CAAC;QAClC,IAAI,eAAe,YAAY,KAAK,KAAK,CAAC;IAC5C,GAAG,EAAE;IAEL,wBAAwB;IACxB,IAAA,kNAAS,EAAC;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC5C,aAAa,OAAO,CAAC,YAAY,KAAK,SAAS,CAAC;IAClD,GAAG;QAAC;QAAM;KAAS;IAEnB,MAAM,YAAY,CAAC,SAAkB,WAAW,CAAC,EAAE,MAAe,OAAgB,gBAAgB,KAAK;QACrG,QAAQ,CAAA;YACN,MAAM,WAAW,KAAK,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,QAAQ,EAAE,IAAI,KAAK,YAAY,KAAK,QAAQ,KAAK,aAAa,KAAK;YAClH,IAAI,UAAU;gBACZ,OAAO,KAAK,GAAG,CAAC,CAAA,OACd,AAAC,KAAK,EAAE,KAAK,QAAQ,EAAE,IAAI,KAAK,YAAY,KAAK,QAAQ,KAAK,aAAa,KAAK,QAC5E;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,QAAQ,GAAG;oBAAS,IAC9C;YAER;YACA,OAAO;mBAAI;gBAAM;oBAAE,GAAG,OAAO;oBAAE;oBAAU,cAAc;oBAAM,eAAe;gBAAM;aAAE;QACtF;QAEA,IAAI,CAAC,eAAe;YAClB,cAAc;QAChB;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,QAAQ,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;IAClD;IAEA,MAAM,iBAAiB,CAAC,IAAY;QAClC,IAAI,WAAW,GAAG;QAClB,QAAQ,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,KAAK;oBAAE,GAAG,IAAI;oBAAE;gBAAS,IAAI;IAC5E;IAEA,MAAM,YAAY,IAAM,QAAQ,EAAE;IAElC,MAAM,iBAAiB,CAAC;QACtB,YAAY,CAAA,OAAQ,KAAK,QAAQ,CAAC,MAAM,KAAK,MAAM,CAAC,CAAA,MAAO,QAAQ,MAAM;mBAAI;gBAAM;aAAG;IACxF;IAEA,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAO,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAG;IACjF,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IAElE,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAC3B;YAAM;YAAW;YAAgB;YAAgB;YACjD;YAAW;YAAW;YAAY;YAClC;YAAU;QACZ;kBACG;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/utils/slugify.ts"],"sourcesContent":["// Basic slugify for simple cases\nexport const slugify = (text: string): string => {\n  if (!text) return '';\n  return text\n    .toString()\n    .toLowerCase()\n    .trim()\n    .replace(/\\s+/g, '-')        // Replace spaces with -\n    .replace(/&/g, '-and-')      // Replace & with 'and'\n    .replace(/[^\\w\\-]+/g, '')    // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-');     // Replace multiple - with single -\n};\n\n// Advanced unique slug generator based on specific business rules\nexport const generateUniqueSlug = (title: string, existingSlugs: string[]): string => {\n  if (!title) return '';\n\n  // Normalize: lowercase, remove special chars, split by space\n  const cleanTitle = title.toLowerCase().replace(/[^\\w\\s-]/g, '').trim();\n  const words = cleanTitle.split(/\\s+/).filter(w => w.length > 0);\n  \n  if (words.length === 0) return `product-${Date.now()}`;\n\n  // Rule 1: Take first 3 words (or fewer if title is short)\n  const limit = Math.min(words.length, 3);\n  let candidate = words.slice(0, limit).join('-');\n  \n  // Check uniqueness\n  if (!existingSlugs.includes(candidate)) {\n    return candidate;\n  }\n\n  // Rule 2: If exists, try taking 4 words (if available)\n  if (words.length >= 4) {\n    const candidate4 = words.slice(0, 4).join('-');\n    if (!existingSlugs.includes(candidate4)) {\n      return candidate4;\n    }\n    // If 4 words also exist, we will use the 4-word version as base for numbering\n    candidate = candidate4;\n  }\n\n  // Rule 3: Append number (1, 2, 3...) until unique\n  let counter = 1;\n  while (true) {\n    const numberedCandidate = `${candidate}-${counter}`;\n    if (!existingSlugs.includes(numberedCandidate)) {\n      return numberedCandidate;\n    }\n    counter++;\n  }\n};\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;;AAC1B,MAAM,UAAU,CAAC;IACtB,IAAI,CAAC,MAAM,OAAO;IAClB,OAAO,KACJ,QAAQ,GACR,WAAW,GACX,IAAI,GACJ,OAAO,CAAC,QAAQ,KAAY,wBAAwB;KACpD,OAAO,CAAC,MAAM,SAAc,uBAAuB;KACnD,OAAO,CAAC,aAAa,IAAO,4BAA4B;KACxD,OAAO,CAAC,UAAU,MAAU,mCAAmC;AACpE;AAGO,MAAM,qBAAqB,CAAC,OAAe;IAChD,IAAI,CAAC,OAAO,OAAO;IAEnB,6DAA6D;IAC7D,MAAM,aAAa,MAAM,WAAW,GAAG,OAAO,CAAC,aAAa,IAAI,IAAI;IACpE,MAAM,QAAQ,WAAW,KAAK,CAAC,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,GAAG;IAE7D,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO,CAAC,QAAQ,EAAE,KAAK,GAAG,IAAI;IAEtD,0DAA0D;IAC1D,MAAM,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,EAAE;IACrC,IAAI,YAAY,MAAM,KAAK,CAAC,GAAG,OAAO,IAAI,CAAC;IAE3C,mBAAmB;IACnB,IAAI,CAAC,cAAc,QAAQ,CAAC,YAAY;QACtC,OAAO;IACT;IAEA,uDAAuD;IACvD,IAAI,MAAM,MAAM,IAAI,GAAG;QACrB,MAAM,aAAa,MAAM,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;QAC1C,IAAI,CAAC,cAAc,QAAQ,CAAC,aAAa;YACvC,OAAO;QACT;QACA,8EAA8E;QAC9E,YAAY;IACd;IAEA,kDAAkD;IAClD,IAAI,UAAU;IACd,MAAO,KAAM;QACX,MAAM,oBAAoB,GAAG,UAAU,CAAC,EAAE,SAAS;QACnD,IAAI,CAAC,cAAc,QAAQ,CAAC,oBAAoB;YAC9C,OAAO;QACT;QACA;IACF;AACF"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/context/DataContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { Product, Order, Category, OrderStatus } from '../types';\nimport { slugify } from '../utils/slugify';\n\ninterface DataContextType {\n  products: Product[];\n  orders: Order[];\n  categories: Category[];\n  addProduct: (product: Product) => Promise<void>;\n  updateProduct: (product: Product) => Promise<void>;\n  deleteProduct: (id: string) => Promise<void>;\n  addOrder: (order: Order) => Promise<void>;\n  updateOrderStatus: (id: string, status: OrderStatus) => Promise<void>;\n  deleteOrder: (id: string) => Promise<void>;\n  addCategory: (category: Category) => Promise<void>;\n  deleteCategory: (id: string) => Promise<void>;\n  refreshData: () => void;\n  isLoading: boolean;\n}\n\nconst DataContext = createContext<DataContextType | undefined>(undefined);\n\nexport const DataProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const refreshData = async () => {\n    setIsLoading(true);\n    try {\n      // Fetch Products\n      const prodRes = await fetch('/api/products');\n      if (prodRes.ok) {\n        const prodData = await prodRes.json();\n        setProducts(prodData);\n      }\n\n      // Fetch Orders\n      const orderRes = await fetch('/api/orders');\n      if (orderRes.ok) {\n        const orderData = await orderRes.json();\n        setOrders(orderData);\n      }\n\n      // Fetch Categories\n      const catRes = await fetch('/api/categories');\n      if (catRes.ok) {\n        const catData = await catRes.json();\n        setCategories(catData);\n      }\n\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    refreshData();\n  }, []);\n\n  const addProduct = async (product: Product) => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { id, ...productData } = product;\n    const res = await fetch('/api/products', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        ...productData,\n        slug: product.slug || slugify(product.name)\n      }),\n    });\n\n    if (res.ok) {\n      refreshData();\n    } else {\n      const error = await res.json();\n      throw new Error(error.error || 'Failed to add product');\n    }\n  };\n\n  const updateProduct = async (product: Product) => {\n    const { id, ...productData } = product;\n    const res = await fetch(`/api/products/${id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(productData),\n    });\n\n    if (res.ok) {\n      refreshData();\n    } else {\n      const error = await res.json();\n      throw new Error(error.error || 'Failed to update product');\n    }\n  };\n\n  const deleteProduct = async (id: string) => {\n    const res = await fetch(`/api/products/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (res.ok) {\n      refreshData();\n    } else {\n      const error = await res.json();\n      throw new Error(error.error || 'Failed to delete product');\n    }\n  };\n\n  const addOrder = async (order: Order) => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { id, ...orderData } = order;\n    const res = await fetch('/api/orders', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(orderData),\n    });\n\n    if (res.ok) {\n      refreshData();\n    } else {\n      const error = await res.json();\n      throw new Error(error.error || 'Failed to add order');\n    }\n  };\n\n  const updateOrderStatus = async (id: string, status: OrderStatus) => {\n    const res = await fetch(`/api/orders/${id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ status }),\n    });\n\n    if (res.ok) {\n      refreshData();\n    } else {\n      const error = await res.json();\n      throw new Error(error.error || 'Failed to update order status');\n    }\n  };\n\n  const deleteOrder = async (id: string) => {\n    const res = await fetch(`/api/orders/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (res.ok) {\n      refreshData();\n    } else {\n      const error = await res.json();\n      throw new Error(error.error || 'Failed to delete order');\n    }\n  };\n\n  const addCategory = async (category: Category) => {\n    const res = await fetch('/api/categories', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(category),\n    });\n\n    if (res.ok) {\n      refreshData();\n    } else {\n      const error = await res.json();\n      throw new Error(error.error || 'Failed to add category');\n    }\n  };\n\n  const deleteCategory = async (id: string) => {\n    const res = await fetch(`/api/categories/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (res.ok) {\n      refreshData();\n    } else {\n      const error = await res.json();\n      throw new Error(error.error || 'Failed to delete category');\n    }\n  };\n\n  return (\n    <DataContext.Provider value={{\n      products, orders, categories,\n      addProduct, updateProduct, deleteProduct,\n      addOrder, updateOrderStatus, deleteOrder,\n      addCategory, deleteCategory,\n      refreshData, isLoading\n    }}>\n      {children}\n    </DataContext.Provider>\n  );\n};\n\nexport const useData = () => {\n  const context = useContext(DataContext);\n  if (!context) throw new Error('useData must be used within a DataProvider');\n  return context;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\n\ninterface AuthContextType {\n  isAuthenticated: boolean;\n  login: (email: string, pass: string, remember: boolean) => Promise<boolean>;\n  logout: () => void;\n  updateCredentials: (email: string, pass: string) => Promise<void>;\n  adminEmail: string;\n  isLoading: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [adminEmail, setAdminEmail] = useState('admin@luxe.com');\n\n  useEffect(() => {\n    const authLocal = localStorage.getItem('admin_auth');\n    const authSession = sessionStorage.getItem('admin_auth');\n    if (authLocal === 'true' || authSession === 'true') {\n      setIsAuthenticated(true);\n    }\n    fetchAdminEmail().finally(() => {\n      setIsLoading(false);\n    });\n  }, []);\n\n  const fetchAdminEmail = async () => {\n    try {\n      const res = await fetch('/api/settings?key=admin_email');\n      if (res.ok) {\n        const data = await res.json();\n        if (data && data.value) {\n          setAdminEmail(data.value);\n        }\n      }\n    } catch (error) {\n      console.error(\"Error fetching admin email:\", error);\n    }\n  };\n\n  const login = async (email: string, pass: string, remember: boolean) => {\n    try {\n      const resEmail = await fetch('/api/settings?key=admin_email');\n      const resPass = await fetch('/api/settings?key=admin_password');\n\n      let dbEmail = 'admin@bigstock.ma';\n      let dbPass = 'bigstock';\n\n      if (resEmail.ok) {\n        const data = await resEmail.json();\n        if (data && data.value) dbEmail = data.value;\n      }\n      if (resPass.ok) {\n        const data = await resPass.json();\n        if (data && data.value) dbPass = data.value;\n      }\n\n      if (email === dbEmail && pass === dbPass) {\n        setIsAuthenticated(true);\n        setAdminEmail(dbEmail);\n\n        if (remember) {\n          localStorage.setItem('admin_auth', 'true');\n        } else {\n          sessionStorage.setItem('admin_auth', 'true');\n        }\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      if (email === 'admin@luxe.com' && pass === 'admin123') {\n        setIsAuthenticated(true);\n        return true;\n      }\n      return false;\n    }\n  };\n\n  const logout = () => {\n    setIsAuthenticated(false);\n    localStorage.removeItem('admin_auth');\n    sessionStorage.removeItem('admin_auth');\n  };\n\n  const updateCredentials = async (email: string, pass: string) => {\n    try {\n      await fetch('/api/settings', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ key: 'admin_email', value: email }),\n      });\n\n      await fetch('/api/settings', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ key: 'admin_password', value: pass }),\n      });\n\n      setAdminEmail(email);\n    } catch (error) {\n      console.error(\"Error updating credentials:\", error);\n      throw error;\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={{ isAuthenticated, isLoading, login, logout, updateCredentials, adminEmail }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) throw new Error('useAuth must be used within a AuthProvider');\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAaA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,MAAM,eAAwD,CAAC,EAAE,QAAQ,EAAE;IAChF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,MAAM,cAAc,eAAe,OAAO,CAAC;QAC3C,IAAI,cAAc,UAAU,gBAAgB,QAAQ;YAClD,mBAAmB;QACrB;QACA,kBAAkB,OAAO,CAAC;YACxB,aAAa;QACf;IACF,GAAG,EAAE;IAEL,MAAM,kBAAkB;QACtB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,QAAQ,KAAK,KAAK,EAAE;oBACtB,cAAc,KAAK,KAAK;gBAC1B;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC/C;IACF;IAEA,MAAM,QAAQ,OAAO,OAAe,MAAc;QAChD,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,UAAU,MAAM,MAAM;YAE5B,IAAI,UAAU;YACd,IAAI,SAAS;YAEb,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,IAAI,QAAQ,KAAK,KAAK,EAAE,UAAU,KAAK,KAAK;YAC9C;YACA,IAAI,QAAQ,EAAE,EAAE;gBACd,MAAM,OAAO,MAAM,QAAQ,IAAI;gBAC/B,IAAI,QAAQ,KAAK,KAAK,EAAE,SAAS,KAAK,KAAK;YAC7C;YAEA,IAAI,UAAU,WAAW,SAAS,QAAQ;gBACxC,mBAAmB;gBACnB,cAAc;gBAEd,IAAI,UAAU;oBACZ,aAAa,OAAO,CAAC,cAAc;gBACrC,OAAO;oBACL,eAAe,OAAO,CAAC,cAAc;gBACvC;gBACA,OAAO;YACT;YACA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,IAAI,UAAU,oBAAoB,SAAS,YAAY;gBACrD,mBAAmB;gBACnB,OAAO;YACT;YACA,OAAO;QACT;IACF;IAEA,MAAM,SAAS;QACb,mBAAmB;QACnB,aAAa,UAAU,CAAC;QACxB,eAAe,UAAU,CAAC;IAC5B;IAEA,MAAM,oBAAoB,OAAO,OAAe;QAC9C,IAAI;YACF,MAAM,MAAM,iBAAiB;gBAC3B,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,KAAK;oBAAe,OAAO;gBAAM;YAC1D;YAEA,MAAM,MAAM,iBAAiB;gBAC3B,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,KAAK;oBAAkB,OAAO;gBAAK;YAC5D;YAEA,cAAc;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,MAAM;QACR;IACF;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAiB;YAAW;YAAO;YAAQ;YAAmB;QAAW;kBACrG;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT"}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/utils/cn.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 526, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/components/layout/Header.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { ShoppingBag, Menu, X, Heart, ChevronDown, ChevronRight } from 'lucide-react';\nimport { useCart } from '../../context/CartContext';\nimport { useData } from '../../context/DataContext';\nimport { cn } from '../../utils/cn';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport const Header: React.FC = () => {\n  const { cartCount, setIsCartOpen, wishlist } = useCart();\n  const { categories } = useData();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [isCategoryOpen, setIsCategoryOpen] = useState(false);\n  const [isMobileCategoryOpen, setIsMobileCategoryOpen] = useState(true);\n  const categoryRef = useRef<HTMLDivElement>(null);\n  const pathname = usePathname();\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (categoryRef.current && !categoryRef.current.contains(event.target as Node)) {\n        setIsCategoryOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  useEffect(() => {\n    if (isMobileMenuOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n  }, [isMobileMenuOpen]);\n\n  return (\n    <header className=\"sticky top-0 z-40 bg-primary text-white shadow-lg\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex items-center justify-between h-20\">\n\n          {/* Mobile Layout */}\n          <div className=\"lg:hidden flex items-center justify-between w-full relative\">\n            <button\n              className=\"text-white hover:text-accent transition-colors relative p-2\"\n              onClick={() => setIsCartOpen(true)}\n            >\n              <ShoppingBag size={24} />\n              {cartCount > 0 && (\n                <span className=\"absolute top-0 right-0 bg-accent text-white text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full\">\n                  {cartCount}\n                </span>\n              )}\n            </button>\n\n            <Link href=\"/\" className=\"absolute left-1/2 -translate-x-1/2\">\n              <img\n                src=\"/logo.png\"\n                alt=\"BigStock\"\n                className=\"h-10 w-auto object-contain\"\n              />\n            </Link>\n\n            <button\n              className=\"p-2 text-white hover:text-accent transition-colors\"\n              onClick={() => setIsMobileMenuOpen(true)}\n            >\n              <Menu size={28} />\n            </button>\n          </div>\n\n          {/* Desktop Logo */}\n          <Link href=\"/\" className=\"hidden lg:block\">\n            <img\n              src=\"/logo.png\"\n              alt=\"BigStock\"\n              className=\"h-12 w-auto object-contain\"\n            />\n          </Link>\n\n          {/* Desktop Nav */}\n          <nav className=\"hidden lg:flex items-center space-x-8\">\n            <Link\n              href=\"/\"\n              className={cn(\n                \"text-sm font-medium tracking-wide transition-colors duration-200 hover:text-accent\",\n                pathname === '/' ? \"text-accent\" : \"text-gray-300\"\n              )}\n            >\n              ACCUEIL\n            </Link>\n\n            <Link\n              href=\"/shop\"\n              className={cn(\n                \"text-sm font-medium tracking-wide transition-colors duration-200 hover:text-accent\",\n                pathname === '/shop' ? \"text-accent\" : \"text-gray-300\"\n              )}\n            >\n              BOUTIQUE\n            </Link>\n\n            <div className=\"relative\" ref={categoryRef}>\n              <button\n                onClick={() => setIsCategoryOpen(!isCategoryOpen)}\n                className={cn(\n                  \"flex items-center text-sm font-medium tracking-wide transition-colors duration-200 hover:text-accent focus:outline-none\",\n                  pathname.includes('/category/') || isCategoryOpen ? \"text-accent\" : \"text-gray-300\"\n                )}\n              >\n                CATÉGORIES <ChevronDown size={14} className={`ml-1 transition-transform duration-200 ${isCategoryOpen ? 'rotate-180' : ''}`} />\n              </button>\n\n              <AnimatePresence>\n                {isCategoryOpen && (\n                  <motion.div\n                    initial={{ opacity: 0, y: 10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: 10 }}\n                    transition={{ duration: 0.2 }}\n                    className=\"absolute top-full left-0 w-48 bg-white shadow-xl rounded-md overflow-hidden py-2 mt-2\"\n                  >\n                    {categories.map((cat) => (\n                      <Link\n                        key={cat.id}\n                        href={`/category/${cat.name}`}\n                        onClick={() => setIsCategoryOpen(false)}\n                        className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-accent transition-colors\"\n                      >\n                        {cat.name}\n                      </Link>\n                    ))}\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n\n            <Link\n              href=\"/contact\"\n              className={cn(\n                \"text-sm font-medium tracking-wide transition-colors duration-200 hover:text-accent\",\n                pathname === '/contact' ? \"text-accent\" : \"text-gray-300\"\n              )}\n            >\n              CONTACT\n            </Link>\n          </nav>\n\n          {/* Desktop Icons */}\n          <div className=\"hidden lg:flex items-center space-x-6\">\n            <Link href=\"/wishlist\" className=\"text-gray-300 hover:text-accent transition-colors relative\" title=\"Favoris\">\n              <Heart size={20} />\n              {wishlist.length > 0 && (\n                <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full\">\n                  {wishlist.length}\n                </span>\n              )}\n            </Link>\n            <button\n              className=\"text-gray-300 hover:text-accent transition-colors relative\"\n              onClick={() => setIsCartOpen(true)}\n              title=\"Panier\"\n            >\n              <ShoppingBag size={20} />\n              {cartCount > 0 && (\n                <span className=\"absolute -top-2 -right-2 bg-accent text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full\">\n                  {cartCount}\n                </span>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Menu Drawer */}\n      <AnimatePresence>\n        {isMobileMenuOpen && (\n          <>\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              onClick={() => setIsMobileMenuOpen(false)}\n              className=\"fixed inset-0 bg-black/50 backdrop-blur-md z-50 lg:hidden\"\n            />\n\n            <motion.div\n              initial={{ x: '100%' }}\n              animate={{ x: 0 }}\n              exit={{ x: '100%' }}\n              transition={{ type: 'spring', damping: 25, stiffness: 200 }}\n              className=\"fixed inset-y-0 right-0 z-50 w-[70%] bg-primary border-l border-gray-800 shadow-2xl flex flex-col lg:hidden\"\n            >\n              <div className=\"flex items-center justify-between p-4 border-b border-gray-800\">\n                <span className=\"text-lg font-serif font-bold text-white uppercase\">Menu</span>\n                <button\n                  onClick={() => setIsMobileMenuOpen(false)}\n                  className=\"text-gray-400 hover:text-white transition-colors\"\n                >\n                  <X size={24} />\n                </button>\n              </div>\n\n              <div className=\"flex-1 overflow-y-auto py-4 px-4 space-y-4\">\n                <nav className=\"flex flex-col space-y-4\">\n                  <Link\n                    href=\"/\"\n                    className=\"text-base font-medium text-white hover:text-accent flex items-center justify-between group\"\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    ACCUEIL <span className=\"text-accent opacity-0 group-hover:opacity-100 transition-opacity\">→</span>\n                  </Link>\n\n                  <Link\n                    href=\"/shop\"\n                    className=\"text-base font-medium text-white hover:text-accent flex items-center justify-between group\"\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    BOUTIQUE <span className=\"text-accent opacity-0 group-hover:opacity-100 transition-opacity\">→</span>\n                  </Link>\n\n                  <div>\n                    <button\n                      onClick={() => setIsMobileCategoryOpen(!isMobileCategoryOpen)}\n                      className=\"w-full text-base font-medium text-white hover:text-accent flex items-center justify-between group\"\n                    >\n                      CATÉGORIES\n                      <ChevronRight\n                        size={18}\n                        className={`text-gray-500 transition-transform duration-300 ${isMobileCategoryOpen ? 'rotate-90 text-accent' : ''}`}\n                      />\n                    </button>\n\n                    <AnimatePresence>\n                      {isMobileCategoryOpen && (\n                        <motion.div\n                          initial={{ height: 0, opacity: 0 }}\n                          animate={{ height: 'auto', opacity: 1 }}\n                          exit={{ height: 0, opacity: 0 }}\n                          className=\"overflow-hidden\"\n                        >\n                          <div className=\"flex flex-col space-y-2 pl-3 pt-2 border-l border-gray-800 ml-1 mt-1\">\n                            {categories.map((cat) => (\n                              <Link\n                                key={cat.id}\n                                href={`/category/${cat.name}`}\n                                className=\"text-gray-400 hover:text-white text-sm\"\n                                onClick={() => setIsMobileMenuOpen(false)}\n                              >\n                                {cat.name}\n                              </Link>\n                            ))}\n                          </div>\n                        </motion.div>\n                      )}\n                    </AnimatePresence>\n                  </div>\n\n                  <Link\n                    href=\"/contact\"\n                    className=\"text-base font-medium text-white hover:text-accent flex items-center justify-between group\"\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    CONTACT <span className=\"text-accent opacity-0 group-hover:opacity-100 transition-opacity\">→</span>\n                  </Link>\n                </nav>\n              </div>\n\n              <div className=\"p-4 border-t border-gray-800 bg-gray-900/50\">\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <Link\n                    href=\"/wishlist\"\n                    className=\"flex flex-col items-center justify-center p-2 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors group\"\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    <div className=\"relative mb-1\">\n                      <Heart size={20} className=\"text-gray-300 group-hover:text-red-500 transition-colors\" />\n                      {wishlist.length > 0 && (\n                        <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-[9px] font-bold w-3.5 h-3.5 flex items-center justify-center rounded-full\">\n                          {wishlist.length}\n                        </span>\n                      )}\n                    </div>\n                    <span className=\"text-[10px] font-medium text-gray-400 group-hover:text-white\">Favoris</span>\n                  </Link>\n\n                  <button\n                    className=\"flex flex-col items-center justify-center p-2 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors group\"\n                    onClick={() => {\n                      setIsMobileMenuOpen(false);\n                      setIsCartOpen(true);\n                    }}\n                  >\n                    <div className=\"relative mb-1\">\n                      <ShoppingBag size={20} className=\"text-gray-300 group-hover:text-accent transition-colors\" />\n                      {cartCount > 0 && (\n                        <span className=\"absolute -top-1 -right-1 bg-accent text-white text-[9px] font-bold w-3.5 h-3.5 flex items-center justify-center rounded-full\">\n                          {cartCount}\n                        </span>\n                      )}\n                    </div>\n                    <span className=\"text-[10px] font-medium text-gray-400 group-hover:text-white\">Panier</span>\n                  </button>\n                </div>\n\n                <div className=\"mt-4 text-center\">\n                  <Link href=\"/shop\" onClick={() => setIsMobileMenuOpen(false)}>\n                    <button className=\"w-full bg-accent text-white font-bold py-2 rounded-md hover:bg-accent-hover transition-colors shadow-lg text-sm\">\n                      Commencer vos achats\n                    </button>\n                  </Link>\n                </div>\n              </div>\n            </motion.div>\n          </>\n        )}\n      </AnimatePresence>\n    </header>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1216, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '../../utils/cn';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\n  size?: 'sm' | 'md' | 'lg';\n  fullWidth?: boolean;\n}\n\nexport const Button: React.FC<ButtonProps> = ({ \n  children, \n  className, \n  variant = 'primary', \n  size = 'md', \n  fullWidth = false,\n  ...props \n}) => {\n  const baseStyles = \"inline-flex items-center justify-center font-medium transition-all duration-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed\";\n  \n  const variants = {\n    primary: \"bg-accent text-white hover:bg-accent-hover shadow-md hover:shadow-lg\",\n    secondary: \"bg-primary text-white hover:bg-gray-800\",\n    outline: \"border-2 border-accent text-accent hover:bg-accent hover:text-white\",\n    ghost: \"text-primary hover:bg-gray-100\"\n  };\n\n  const sizes = {\n    sm: \"text-xs px-4 py-2 rounded-sm\",\n    md: \"text-sm px-6 py-3 rounded-md\",\n    lg: \"text-base px-8 py-4 rounded-md\"\n  };\n\n  return (\n    <button \n      className={cn(\n        baseStyles, \n        variants[variant], \n        sizes[size], \n        fullWidth ? \"w-full\" : \"\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA;;;AAQO,MAAM,SAAgC,CAAC,EAC5C,QAAQ,EACR,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,YAAY,KAAK,EACjB,GAAG,OACJ;IACC,MAAM,aAAa;IAEnB,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;IACT;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QACC,WAAW,IAAA,wHAAE,EACX,YACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX,YAAY,WAAW,IACvB;QAED,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 1251, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/components/cart/CartDrawer.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { X, Minus, Plus, Trash2 } from 'lucide-react';\nimport { useCart } from '../../context/CartContext';\nimport { Button } from '../ui/Button';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport const CartDrawer: React.FC = () => {\n  const { cart, isCartOpen, setIsCartOpen, removeFromCart, updateQuantity, cartTotal } = useCart();\n  const router = useRouter();\n\n  const handleCheckout = () => {\n    setIsCartOpen(false);\n    router.push('/checkout');\n  };\n\n  return (\n    <AnimatePresence>\n      {isCartOpen && (\n        <>\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={() => setIsCartOpen(false)}\n            className=\"fixed inset-0 bg-black/50 z-50 backdrop-blur-sm\"\n          />\n\n          <motion.div\n            initial={{ x: '100%' }}\n            animate={{ x: 0 }}\n            exit={{ x: '100%' }}\n            transition={{ type: 'spring', damping: 25, stiffness: 200 }}\n            className=\"fixed inset-y-0 right-0 z-50 w-full max-w-md bg-white shadow-2xl flex flex-col\"\n          >\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-100\">\n              <h2 className=\"text-xl font-serif font-bold text-primary\">Panier ({cart.length})</h2>\n              <button\n                onClick={() => setIsCartOpen(false)}\n                className=\"text-gray-400 hover:text-primary transition-colors\"\n              >\n                <X size={24} />\n              </button>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n              {cart.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center h-full text-gray-400\">\n                  <p className=\"mb-4\">Votre panier est vide</p>\n                  <Button variant=\"outline\" onClick={() => setIsCartOpen(false)}>Continuer vos achats</Button>\n                </div>\n              ) : (\n                cart.map((item) => (\n                  <div key={`${item.id}-${item.selectedSize}-${item.selectedColor}`} className=\"flex gap-4\">\n                    {/* STRICTLY FIT CONTENT */}\n                    <div className=\"w-20 h-24 flex-shrink-0 bg-gray-100 rounded-md overflow-hidden flex items-center justify-center p-1 border border-gray-100\">\n                      <img src={item.image} alt={item.name} className=\"w-full h-full object-contain object-center\" />\n                    </div>\n                    <div className=\"flex-1 flex flex-col justify-between\">\n                      <div>\n                        <h3 className=\"text-sm font-medium text-primary line-clamp-1\">{item.name}</h3>\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          {item.selectedSize && `Taille: ${item.selectedSize}`}\n                          {item.selectedSize && item.selectedColor && ' | '}\n                          {item.selectedColor && `Couleur: ${item.selectedColor}`}\n                        </p>\n                      </div>\n                      <div className=\"flex items-center justify-between mt-2\">\n                        <div className=\"flex items-center border border-gray-200 rounded-md\">\n                          <button\n                            onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                            className=\"p-1 hover:bg-gray-50 text-gray-500\"\n                            disabled={item.quantity <= 1}\n                          >\n                            <Minus size={14} />\n                          </button>\n                          <span className=\"px-2 text-sm font-medium\">{item.quantity}</span>\n                          <button\n                            onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                            className=\"p-1 hover:bg-gray-50 text-gray-500\"\n                          >\n                            <Plus size={14} />\n                          </button>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <span className=\"text-sm font-bold text-accent\">{(item.price * item.quantity).toFixed(2)} MAD</span>\n                          <button\n                            onClick={() => removeFromCart(item.id)}\n                            className=\"text-gray-400 hover:text-red-500 transition-colors\"\n                          >\n                            <Trash2 size={16} />\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n\n            {cart.length > 0 && (\n              <div className=\"p-6 border-t border-gray-100 bg-gray-50\">\n                <div className=\"flex justify-between mb-4 text-sm\">\n                  <span className=\"text-gray-500\">Sous-total</span>\n                  <span className=\"font-bold text-primary\">{cartTotal.toFixed(2)} MAD</span>\n                </div>\n                <div className=\"flex justify-between mb-6 text-sm\">\n                  <span className=\"text-gray-500\">Livraison</span>\n                  <span className=\"text-green-600 font-medium\">Gratuite</span>\n                </div>\n                <div className=\"flex justify-between mb-6 text-lg font-bold\">\n                  <span>Total</span>\n                  <span className=\"text-accent\">{cartTotal.toFixed(2)} MAD</span>\n                </div>\n                <Button fullWidth onClick={handleCheckout}>\n                  Commander\n                </Button>\n                <p className=\"text-center text-xs text-gray-400 mt-3\">\n                  Paiement à la livraison\n                </p>\n              </div>\n            )}\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1662, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/utils/analytics.ts"],"sourcesContent":["// Helper to inject external scripts dynamically\nconst injectScript = (id: string, src: string, content?: string) => {\n  if (document.getElementById(id)) return;\n  const script = document.createElement('script');\n  script.id = id;\n  if (src) script.src = src;\n  if (content) script.innerHTML = content;\n  script.async = true;\n  document.head.appendChild(script);\n};\n\n// Fetch a setting value from the API\nasync function fetchSetting(key: string): Promise<any> {\n  try {\n    const res = await fetch(`/api/settings?key=${key}`);\n    const data = await res.json();\n    return data?.value ?? null;\n  } catch {\n    return null;\n  }\n}\n\nexport const analytics = {\n  initialize: async () => {\n    // Fetch all analytics settings from MongoDB via API\n    const [gaId, pixelIds, tiktokIds] = await Promise.all([\n      fetchSetting('ga_id'),\n      fetchSetting('pixel_ids'),\n      fetchSetting('tiktok_ids'),\n    ]);\n\n    // Google Analytics 4\n    if (gaId) {\n      injectScript('ga-lib', `https://www.googletagmanager.com/gtag/js?id=${gaId}`);\n      injectScript('ga-init', '', `\n        window.dataLayer = window.dataLayer || [];\n        function gtag(){dataLayer.push(arguments);}\n        gtag('js', new Date());\n        gtag('config', '${gaId}');\n      `);\n    }\n\n    // Meta Pixel (Multiple)\n    if (pixelIds && Array.isArray(pixelIds) && pixelIds.length > 0) {\n      const initCalls = pixelIds.map((id: string) => `fbq('init', '${id}');`).join('\\n');\n\n      injectScript('meta-pixel', '', `\n        !function(f,b,e,v,n,t,s)\n        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n        n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n        n.queue=[];t=b.createElement(e);t.async=!0;\n        t.src=v;s=b.getElementsByTagName(e)[0];\n        s.parentNode.insertBefore(t,s)}(window, document,'script',\n        'https://connect.facebook.net/en_US/fbevents.js');\n        ${initCalls}\n        fbq('track', 'PageView');\n      `);\n    }\n\n    // TikTok Pixel (Multiple)\n    if (tiktokIds && Array.isArray(tiktokIds) && tiktokIds.length > 0) {\n      const loadCalls = tiktokIds.map((id: string) => `ttq.load('${id}');`).join('\\n');\n\n      injectScript('tiktok-pixel', '', `\n        !function (w, d, t) {\n          w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];\n          ttq.methods=[\"page\",\"track\",\"identify\",\"instances\",\"debug\",\"on\",\"off\",\"once\",\"ready\",\"alias\",\"group\",\"enableCookie\",\"disableCookie\"],\n          ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};\n          for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);\n          ttq.instance=function(t){for(var e=ttq.methods[i=0];i<ttq.methods.length;i++)ttq.setAndDefer(t,ttq.methods[i]);return t};\n          ttq.load=function(e,n){var i=\"https://analytics.tiktok.com/i18n/pixel/events.js\";\n          ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};\n          var o=document.createElement(\"script\");o.type=\"text/javascript\",o.async=!0,o.src=i+\"?sdkid=\"+e+\"&lib=\"+t;\n          var a=document.getElementsByTagName(\"script\")[0];a.parentNode.insertBefore(o,a)};\n          ${loadCalls}\n          ttq.page();\n        }(window, document, 'ttq');\n      `);\n    }\n  },\n\n  trackPageView: (path: string) => {\n    // GA4\n    if (typeof window.gtag === 'function') {\n      window.gtag('event', 'page_view', { page_path: path });\n    }\n    // Meta\n    if (typeof window.fbq === 'function') {\n      window.fbq('track', 'PageView');\n    }\n    // TikTok\n    if (typeof window.ttq === 'object') {\n      window.ttq.page();\n    }\n  },\n\n  trackPurchase: (orderId: string, value: number, currency = 'MAD') => {\n    // GA4\n    if (typeof window.gtag === 'function') {\n      window.gtag('event', 'purchase', {\n        transaction_id: orderId,\n        value: value,\n        currency: currency\n      });\n    }\n    // Meta\n    if (typeof window.fbq === 'function') {\n      window.fbq('track', 'Purchase', { value: value, currency: currency });\n    }\n    // TikTok\n    if (typeof window.ttq === 'object') {\n      window.ttq.track('PlaceAnOrder', { value: value, currency: currency });\n    }\n  }\n};\n\n// Types for global objects\ndeclare global {\n  interface Window {\n    gtag: any;\n    fbq: any;\n    ttq: any;\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,gDAAgD;AAChD,MAAM,eAAe,CAAC,IAAY,KAAa;IAC7C,IAAI,SAAS,cAAc,CAAC,KAAK;IACjC,MAAM,SAAS,SAAS,aAAa,CAAC;IACtC,OAAO,EAAE,GAAG;IACZ,IAAI,KAAK,OAAO,GAAG,GAAG;IACtB,IAAI,SAAS,OAAO,SAAS,GAAG;IAChC,OAAO,KAAK,GAAG;IACf,SAAS,IAAI,CAAC,WAAW,CAAC;AAC5B;AAEA,qCAAqC;AACrC,eAAe,aAAa,GAAW;IACrC,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,CAAC,kBAAkB,EAAE,KAAK;QAClD,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,MAAM,SAAS;IACxB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,MAAM,YAAY;IACvB,YAAY;QACV,oDAAoD;QACpD,MAAM,CAAC,MAAM,UAAU,UAAU,GAAG,MAAM,QAAQ,GAAG,CAAC;YACpD,aAAa;YACb,aAAa;YACb,aAAa;SACd;QAED,qBAAqB;QACrB,IAAI,MAAM;YACR,aAAa,UAAU,CAAC,4CAA4C,EAAE,MAAM;YAC5E,aAAa,WAAW,IAAI,CAAC;;;;wBAIX,EAAE,KAAK;MACzB,CAAC;QACH;QAEA,wBAAwB;QACxB,IAAI,YAAY,MAAM,OAAO,CAAC,aAAa,SAAS,MAAM,GAAG,GAAG;YAC9D,MAAM,YAAY,SAAS,GAAG,CAAC,CAAC,KAAe,CAAC,aAAa,EAAE,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC;YAE7E,aAAa,cAAc,IAAI,CAAC;;;;;;;;;QAS9B,EAAE,UAAU;;MAEd,CAAC;QACH;QAEA,0BAA0B;QAC1B,IAAI,aAAa,MAAM,OAAO,CAAC,cAAc,UAAU,MAAM,GAAG,GAAG;YACjE,MAAM,YAAY,UAAU,GAAG,CAAC,CAAC,KAAe,CAAC,UAAU,EAAE,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC;YAE3E,aAAa,gBAAgB,IAAI,CAAC;;;;;;;;;;;UAW9B,EAAE,UAAU;;;MAGhB,CAAC;QACH;IACF;IAEA,eAAe,CAAC;QACd,MAAM;QACN,IAAI,OAAO,OAAO,IAAI,KAAK,YAAY;YACrC,OAAO,IAAI,CAAC,SAAS,aAAa;gBAAE,WAAW;YAAK;QACtD;QACA,OAAO;QACP,IAAI,OAAO,OAAO,GAAG,KAAK,YAAY;YACpC,OAAO,GAAG,CAAC,SAAS;QACtB;QACA,SAAS;QACT,IAAI,OAAO,OAAO,GAAG,KAAK,UAAU;YAClC,OAAO,GAAG,CAAC,IAAI;QACjB;IACF;IAEA,eAAe,CAAC,SAAiB,OAAe,WAAW,KAAK;QAC9D,MAAM;QACN,IAAI,OAAO,OAAO,IAAI,KAAK,YAAY;YACrC,OAAO,IAAI,CAAC,SAAS,YAAY;gBAC/B,gBAAgB;gBAChB,OAAO;gBACP,UAAU;YACZ;QACF;QACA,OAAO;QACP,IAAI,OAAO,OAAO,GAAG,KAAK,YAAY;YACpC,OAAO,GAAG,CAAC,SAAS,YAAY;gBAAE,OAAO;gBAAO,UAAU;YAAS;QACrE;QACA,SAAS;QACT,IAAI,OAAO,OAAO,GAAG,KAAK,UAAU;YAClC,OAAO,GAAG,CAAC,KAAK,CAAC,gBAAgB;gBAAE,OAAO;gBAAO,UAAU;YAAS;QACtE;IACF;AACF"}},
    {"offset": {"line": 1785, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/components/AnalyticsInit.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { usePathname } from 'next/navigation';\r\nimport { analytics } from '../utils/analytics';\r\n\r\nexport function AnalyticsInit() {\r\n    const pathname = usePathname();\r\n\r\n    useEffect(() => {\r\n        analytics.initialize();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n        analytics.trackPageView(pathname);\r\n    }, [pathname]);\r\n\r\n    return null;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;AAMO,SAAS;IACZ,MAAM,WAAW,IAAA,iJAAW;IAE5B,IAAA,kNAAS,EAAC;QACN,sIAAS,CAAC,UAAU;IACxB,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACN,OAAO,QAAQ,CAAC,GAAG;QACnB,sIAAS,CAAC,aAAa,CAAC;IAC5B,GAAG;QAAC;KAAS;IAEb,OAAO;AACX"}}]
}