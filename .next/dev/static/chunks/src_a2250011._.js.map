{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/context/CartContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { CartItem, Product } from '../types';\n\ninterface CartContextType {\n  cart: CartItem[];\n  addToCart: (product: Product, quantity?: number, size?: string, color?: string, preventDrawer?: boolean) => void;\n  removeFromCart: (id: string) => void;\n  updateQuantity: (id: string, quantity: number) => void;\n  clearCart: () => void;\n  cartTotal: number;\n  cartCount: number;\n  isCartOpen: boolean;\n  setIsCartOpen: (isOpen: boolean) => void;\n  wishlist: string[];\n  toggleWishlist: (id: string) => void;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport const CartProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [cart, setCart] = useState<CartItem[]>([]);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [wishlist, setWishlist] = useState<string[]>([]);\n\n  // Load from local storage\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    const savedWishlist = localStorage.getItem('wishlist');\n    if (savedCart) setCart(JSON.parse(savedCart));\n    if (savedWishlist) setWishlist(JSON.parse(savedWishlist));\n  }, []);\n\n  // Save to local storage\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n    localStorage.setItem('wishlist', JSON.stringify(wishlist));\n  }, [cart, wishlist]);\n\n  const addToCart = (product: Product, quantity = 1, size?: string, color?: string, preventDrawer = false) => {\n    setCart(prev => {\n      const existing = prev.find(item => item.id === product.id && item.selectedSize === size && item.selectedColor === color);\n      if (existing) {\n        return prev.map(item =>\n          (item.id === product.id && item.selectedSize === size && item.selectedColor === color)\n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n      }\n      return [...prev, { ...product, quantity, selectedSize: size, selectedColor: color }];\n    });\n\n    if (!preventDrawer) {\n      setIsCartOpen(true);\n    }\n  };\n\n  const removeFromCart = (id: string) => {\n    setCart(prev => prev.filter(item => item.id !== id));\n  };\n\n  const updateQuantity = (id: string, quantity: number) => {\n    if (quantity < 1) return;\n    setCart(prev => prev.map(item => item.id === id ? { ...item, quantity } : item));\n  };\n\n  const clearCart = () => setCart([]);\n\n  const toggleWishlist = (id: string) => {\n    setWishlist(prev => prev.includes(id) ? prev.filter(pid => pid !== id) : [...prev, id]);\n  };\n\n  const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n  const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);\n\n  return (\n    <CartContext.Provider value={{\n      cart, addToCart, removeFromCart, updateQuantity, clearCart,\n      cartTotal, cartCount, isCartOpen, setIsCartOpen,\n      wishlist, toggleWishlist\n    }}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => {\n  const context = useContext(CartContext);\n  if (!context) throw new Error('useCart must be used within a CartProvider');\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAmBA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,MAAM,eAAwD,CAAC,EAAE,QAAQ,EAAE;;IAChF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAa,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAErD,0BAA0B;IAC1B,IAAA,0KAAS;kCAAC;YACR,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,MAAM,gBAAgB,aAAa,OAAO,CAAC;YAC3C,IAAI,WAAW,QAAQ,KAAK,KAAK,CAAC;YAClC,IAAI,eAAe,YAAY,KAAK,KAAK,CAAC;QAC5C;iCAAG,EAAE;IAEL,wBAAwB;IACxB,IAAA,0KAAS;kCAAC;YACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,aAAa,OAAO,CAAC,YAAY,KAAK,SAAS,CAAC;QAClD;iCAAG;QAAC;QAAM;KAAS;IAEnB,MAAM,YAAY,CAAC,SAAkB,WAAW,CAAC,EAAE,MAAe,OAAgB,gBAAgB,KAAK;QACrG,QAAQ,CAAA;YACN,MAAM,WAAW,KAAK,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,QAAQ,EAAE,IAAI,KAAK,YAAY,KAAK,QAAQ,KAAK,aAAa,KAAK;YAClH,IAAI,UAAU;gBACZ,OAAO,KAAK,GAAG,CAAC,CAAA,OACd,AAAC,KAAK,EAAE,KAAK,QAAQ,EAAE,IAAI,KAAK,YAAY,KAAK,QAAQ,KAAK,aAAa,KAAK,QAC5E;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,QAAQ,GAAG;oBAAS,IAC9C;YAER;YACA,OAAO;mBAAI;gBAAM;oBAAE,GAAG,OAAO;oBAAE;oBAAU,cAAc;oBAAM,eAAe;gBAAM;aAAE;QACtF;QAEA,IAAI,CAAC,eAAe;YAClB,cAAc;QAChB;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,QAAQ,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;IAClD;IAEA,MAAM,iBAAiB,CAAC,IAAY;QAClC,IAAI,WAAW,GAAG;QAClB,QAAQ,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,KAAK;oBAAE,GAAG,IAAI;oBAAE;gBAAS,IAAI;IAC5E;IAEA,MAAM,YAAY,IAAM,QAAQ,EAAE;IAElC,MAAM,iBAAiB,CAAC;QACtB,YAAY,CAAA,OAAQ,KAAK,QAAQ,CAAC,MAAM,KAAK,MAAM,CAAC,CAAA,MAAO,QAAQ,MAAM;mBAAI;gBAAM;aAAG;IACxF;IAEA,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAO,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAG;IACjF,MAAM,YAAY,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IAElE,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAC3B;YAAM;YAAW;YAAgB;YAAgB;YACjD;YAAW;YAAW;YAAY;YAClC;YAAU;QACZ;kBACG;;;;;;AAGP;GAhEa;KAAA;AAkEN,MAAM,UAAU;;IACrB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT;IAJa"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  console.warn('Missing Supabase environment variables. Please check your .env file or Vercel project settings.');\n}\n\nexport const supabase = createClient(\n  supabaseUrl || 'https://placeholder.supabase.co',\n  supabaseAnonKey || 'placeholder'\n);\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,iMAAY,EAClC,eAAe,mCACf,mBAAmB"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/utils/slugify.ts"],"sourcesContent":["// Basic slugify for simple cases\nexport const slugify = (text: string): string => {\n  if (!text) return '';\n  return text\n    .toString()\n    .toLowerCase()\n    .trim()\n    .replace(/\\s+/g, '-')        // Replace spaces with -\n    .replace(/&/g, '-and-')      // Replace & with 'and'\n    .replace(/[^\\w\\-]+/g, '')    // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-');     // Replace multiple - with single -\n};\n\n// Advanced unique slug generator based on specific business rules\nexport const generateUniqueSlug = (title: string, existingSlugs: string[]): string => {\n  if (!title) return '';\n\n  // Normalize: lowercase, remove special chars, split by space\n  const cleanTitle = title.toLowerCase().replace(/[^\\w\\s-]/g, '').trim();\n  const words = cleanTitle.split(/\\s+/).filter(w => w.length > 0);\n  \n  if (words.length === 0) return `product-${Date.now()}`;\n\n  // Rule 1: Take first 3 words (or fewer if title is short)\n  const limit = Math.min(words.length, 3);\n  let candidate = words.slice(0, limit).join('-');\n  \n  // Check uniqueness\n  if (!existingSlugs.includes(candidate)) {\n    return candidate;\n  }\n\n  // Rule 2: If exists, try taking 4 words (if available)\n  if (words.length >= 4) {\n    const candidate4 = words.slice(0, 4).join('-');\n    if (!existingSlugs.includes(candidate4)) {\n      return candidate4;\n    }\n    // If 4 words also exist, we will use the 4-word version as base for numbering\n    candidate = candidate4;\n  }\n\n  // Rule 3: Append number (1, 2, 3...) until unique\n  let counter = 1;\n  while (true) {\n    const numberedCandidate = `${candidate}-${counter}`;\n    if (!existingSlugs.includes(numberedCandidate)) {\n      return numberedCandidate;\n    }\n    counter++;\n  }\n};\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;;AAC1B,MAAM,UAAU,CAAC;IACtB,IAAI,CAAC,MAAM,OAAO;IAClB,OAAO,KACJ,QAAQ,GACR,WAAW,GACX,IAAI,GACJ,OAAO,CAAC,QAAQ,KAAY,wBAAwB;KACpD,OAAO,CAAC,MAAM,SAAc,uBAAuB;KACnD,OAAO,CAAC,aAAa,IAAO,4BAA4B;KACxD,OAAO,CAAC,UAAU,MAAU,mCAAmC;AACpE;AAGO,MAAM,qBAAqB,CAAC,OAAe;IAChD,IAAI,CAAC,OAAO,OAAO;IAEnB,6DAA6D;IAC7D,MAAM,aAAa,MAAM,WAAW,GAAG,OAAO,CAAC,aAAa,IAAI,IAAI;IACpE,MAAM,QAAQ,WAAW,KAAK,CAAC,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,GAAG;IAE7D,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO,CAAC,QAAQ,EAAE,KAAK,GAAG,IAAI;IAEtD,0DAA0D;IAC1D,MAAM,QAAQ,KAAK,GAAG,CAAC,MAAM,MAAM,EAAE;IACrC,IAAI,YAAY,MAAM,KAAK,CAAC,GAAG,OAAO,IAAI,CAAC;IAE3C,mBAAmB;IACnB,IAAI,CAAC,cAAc,QAAQ,CAAC,YAAY;QACtC,OAAO;IACT;IAEA,uDAAuD;IACvD,IAAI,MAAM,MAAM,IAAI,GAAG;QACrB,MAAM,aAAa,MAAM,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;QAC1C,IAAI,CAAC,cAAc,QAAQ,CAAC,aAAa;YACvC,OAAO;QACT;QACA,8EAA8E;QAC9E,YAAY;IACd;IAEA,kDAAkD;IAClD,IAAI,UAAU;IACd,MAAO,KAAM;QACX,MAAM,oBAAoB,GAAG,UAAU,CAAC,EAAE,SAAS;QACnD,IAAI,CAAC,cAAc,QAAQ,CAAC,oBAAoB;YAC9C,OAAO;QACT;QACA;IACF;AACF"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/context/DataContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { Product, Order, Category, OrderStatus } from '../types';\nimport { supabase } from '../lib/supabase';\nimport { generateUniqueSlug, slugify } from '../utils/slugify';\n\n// Initial Products for seeding (FRENCH)\nconst initialProducts: Product[] = [\n  {\n    id: '1',\n    name: 'Richelieu Oxford Cuir',\n    price: 189.00,\n    originalPrice: 240.00,\n    categories: ['Chaussures', 'Hommes'],\n    image: 'https://images.unsplash.com/photo-1614252235316-8c857d38b5f4?q=80&w=1000&auto=format&fit=crop',\n    images: ['https://images.unsplash.com/photo-1614252235316-8c857d38b5f4?q=80&w=1000&auto=format&fit=crop'],\n    shortDescription: 'Fabriqué à la main en cuir italien de première qualité.',\n    description: 'Ces chaussures Richelieu définissent la sophistication. Parfaites pour les occasions formelles.',\n    sizes: ['40', '41', '42', '43', '44'],\n    colors: ['Marron', 'Noir'],\n    isNew: true,\n    rating: 4.8,\n    reviews: 124,\n    stockQuantity: 50,\n    inStock: true,\n    tags: ['hommes', 'formel'],\n    isFeatured: true\n  },\n  {\n    id: '2',\n    name: 'Mocassin Daim Minimaliste',\n    price: 145.00,\n    categories: ['Chaussures', 'Hommes'],\n    image: 'https://images.unsplash.com/photo-1560343090-f0409e92791a?q=80&w=1000&auto=format&fit=crop',\n    images: ['https://images.unsplash.com/photo-1560343090-f0409e92791a?q=80&w=1000&auto=format&fit=crop'],\n    shortDescription: 'Le style sans effort rencontre le confort.',\n    description: 'Ces mocassins en daim disposent d\\'une semelle intérieure rembourrée pour un confort optimal.',\n    sizes: ['39', '40', '41', '42'],\n    colors: ['Beige', 'Bleu Marine'],\n    rating: 4.5,\n    reviews: 89,\n    stockQuantity: 30,\n    inStock: true,\n    tags: ['hommes', 'décontracté']\n  },\n  {\n    id: '3',\n    name: 'Manteau en Laine Minuit',\n    price: 350.00,\n    originalPrice: 450.00,\n    categories: ['Vestes', 'Femmes'],\n    image: 'https://images.unsplash.com/photo-1544022613-e87ca75a784a?q=80&w=1000&auto=format&fit=crop',\n    images: ['https://images.unsplash.com/photo-1544022613-e87ca75a784a?q=80&w=1000&auto=format&fit=crop'],\n    shortDescription: 'Une silhouette intemporelle taillée dans un mélange de laine luxueux.',\n    description: 'Restez au chaud avec style grâce à ce manteau en laine de haute qualité.',\n    sizes: ['S', 'M', 'L', 'XL'],\n    colors: ['Gris Anthracite', 'Noir'],\n    isNew: true,\n    rating: 4.9,\n    reviews: 56,\n    stockQuantity: 20,\n    inStock: true,\n    tags: ['femmes', 'hiver'],\n    isFeatured: true\n  },\n  {\n    id: '4',\n    name: 'Blouson Motard Cuir Vintage',\n    price: 299.00,\n    categories: ['Vestes', 'Hommes'],\n    image: 'https://images.unsplash.com/photo-1487222477894-8943e31ef7b2?q=80&w=1000&auto=format&fit=crop',\n    images: ['https://images.unsplash.com/photo-1487222477894-8943e31ef7b2?q=80&w=1000&auto=format&fit=crop'],\n    shortDescription: 'Robuste mais raffiné. Ce blouson développe une patine unique.',\n    description: 'Cuir véritable qui s\\'améliore avec l\\'âge. Un classique pour toute garde-robe.',\n    sizes: ['M', 'L', 'XL'],\n    colors: ['Marron'],\n    rating: 4.7,\n    reviews: 210,\n    stockQuantity: 15,\n    inStock: true,\n    tags: ['hommes', 'décontracté']\n  },\n  {\n    id: '5',\n    name: 'Papier Peint Damassé Victorien',\n    price: 85.00,\n    categories: ['Papier Peint'],\n    image: 'https://images.unsplash.com/photo-1615800098779-1be4350c5957?q=80&w=1000&auto=format&fit=crop',\n    images: ['https://images.unsplash.com/photo-1615800098779-1be4350c5957?q=80&w=1000&auto=format&fit=crop'],\n    shortDescription: 'Ajoutez une touche d\\'élégance royale à votre intérieur.',\n    description: 'Papier peint texturé avec motifs damassés classiques.',\n    colors: ['Or/Noir', 'Argent/Blanc'],\n    rating: 4.6,\n    reviews: 34,\n    stockQuantity: 100,\n    inStock: true,\n    tags: ['maison', 'décoration']\n  },\n  {\n    id: '7',\n    name: 'Costume Classique Homme',\n    price: 450.00,\n    originalPrice: 599.00,\n    categories: ['Hommes', 'Chaussures'],\n    image: 'https://images.unsplash.com/photo-1593030761757-71fae45fa2e7?q=80&w=1000&auto=format&fit=crop',\n    images: ['https://images.unsplash.com/photo-1593030761757-71fae45fa2e7?q=80&w=1000&auto=format&fit=crop'],\n    shortDescription: 'Costume ajusté pour le gentleman moderne.',\n    description: 'Coupe parfaite et tissu respirant pour un confort toute la journée.',\n    sizes: ['48', '50', '52', '54'],\n    colors: ['Bleu Marine', 'Noir', 'Gris'],\n    rating: 4.9,\n    reviews: 45,\n    stockQuantity: 25,\n    inStock: true,\n    isFeatured: true,\n    tags: ['hommes', 'formel']\n  },\n  {\n    id: '9',\n    name: 'Robe de Soirée Élégante',\n    price: 280.00,\n    categories: ['Femmes'],\n    image: 'https://images.unsplash.com/photo-1566174053879-31528523f8ae?q=80&w=1000&auto=format&fit=crop',\n    images: ['https://images.unsplash.com/photo-1566174053879-31528523f8ae?q=80&w=1000&auto=format&fit=crop'],\n    shortDescription: 'Robe longue éblouissante pour les occasions spéciales.',\n    description: 'Faites tourner les têtes avec cette robe de soirée sophistiquée.',\n    sizes: ['XS', 'S', 'M', 'L'],\n    colors: ['Rouge', 'Noir', 'Émeraude'],\n    rating: 4.8,\n    reviews: 67,\n    stockQuantity: 15,\n    inStock: true,\n    isFeatured: true,\n    tags: ['femmes', 'formel']\n  },\n  {\n    id: '11',\n    name: 'Veste en Jean Enfant',\n    price: 45.00,\n    categories: ['Enfants', 'Vestes'],\n    image: 'https://images.unsplash.com/photo-1519457431-44ccd64a579b?q=80&w=1000&auto=format&fit=crop',\n    images: ['https://images.unsplash.com/photo-1519457431-44ccd64a579b?q=80&w=1000&auto=format&fit=crop'],\n    shortDescription: 'Veste en jean durable et élégante pour les enfants.',\n    description: 'Parfaite pour l\\'école ou les jeux. Résistante et confortable.',\n    sizes: ['4A', '6A', '8A', '10A'],\n    colors: ['Bleu'],\n    rating: 4.7,\n    reviews: 88,\n    stockQuantity: 40,\n    inStock: true,\n    tags: ['enfants', 'décontracté']\n  }\n];\n\ninterface DataContextType {\n  products: Product[];\n  orders: Order[];\n  categories: Category[];\n  addProduct: (product: Product) => Promise<void>;\n  updateProduct: (product: Product) => Promise<void>;\n  deleteProduct: (id: string) => Promise<void>;\n  addOrder: (order: Order) => Promise<void>;\n  updateOrderStatus: (id: string, status: OrderStatus) => Promise<void>;\n  deleteOrder: (id: string) => Promise<void>;\n  addCategory: (category: Category) => Promise<void>;\n  deleteCategory: (id: string) => Promise<void>;\n  refreshData: () => void;\n  seedDatabase: () => Promise<void>;\n  isLoading: boolean;\n}\n\nconst DataContext = createContext<DataContextType | undefined>(undefined);\n\nexport const DataProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const refreshData = async () => {\n    setIsLoading(true);\n    try {\n      // Fetch Products\n      // Note: We keep created_at for products if it exists, or it might need change too if products fail.\n      // But user specifically asked for orders fix.\n      const { data: prodData } = await supabase.from('products').select('*').order('created_at', { ascending: false });\n      if (prodData) {\n        const mappedProducts: Product[] = prodData.map(p => ({\n          id: p.id,\n          name: p.name,\n          slug: p.slug || slugify(p.name),\n          price: Number(p.price),\n          originalPrice: p.original_price ? Number(p.original_price) : undefined,\n          categories: p.categories || [p.category].filter(Boolean) || [],\n          image: p.image,\n          images: p.images || [],\n          shortDescription: p.short_description,\n          description: p.description,\n          sizes: p.sizes,\n          colors: p.colors,\n          inStock: p.in_stock,\n          isFeatured: p.is_featured,\n          isBestSeller: p.is_best_seller,\n          isNew: p.is_new,\n          rating: Number(p.rating),\n          reviews: Number(p.reviews),\n          stockQuantity: Number(p.stock_quantity),\n          tags: p.tags\n        }));\n        setProducts(mappedProducts);\n      }\n\n      // Fetch Orders\n      // CHANGED: Sorting by 'date' instead of 'created_at' because 'created_at' might be missing in schema\n      const { data: orderData } = await supabase.from('orders').select('*').order('date', { ascending: false });\n      if (orderData) {\n        const mappedOrders: Order[] = orderData.map(o => {\n          // Robustly construct customer object from both JSON column and flat columns\n          const customerData = {\n            name: o.customer?.name || o.customer_name || 'Client Inconnu',\n            phone: o.customer?.phone || o.customer_phone || '',\n            address: o.customer?.address || o.customer_address || '',\n            city: o.customer?.city || o.customer_city || '',\n            notes: o.customer?.notes || ''\n          };\n\n          return {\n            id: o.id,\n            items: o.items || [],\n            total: Number(o.total),\n            customer: customerData,\n            date: o.date || o.created_at,\n            status: o.status\n          };\n        });\n        setOrders(mappedOrders);\n      }\n\n      // Fetch Categories\n      const { data: catData } = await supabase.from('categories').select('*');\n      if (catData && catData.length > 0) {\n        setCategories(catData);\n      } else {\n        setCategories([]);\n      }\n\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    refreshData();\n  }, []);\n\n  const addProduct = async (product: Product) => {\n    const existingSlugs = products.map(p => p.slug || slugify(p.name));\n    let slug = generateUniqueSlug(product.name, existingSlugs);\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { id, ...rest } = product;\n    const dbProduct = {\n      name: product.name,\n      slug: slug,\n      price: product.price,\n      original_price: product.originalPrice,\n      categories: product.categories,\n      category: product.categories[0] || '',\n      image: product.image,\n      images: product.images,\n      short_description: product.shortDescription,\n      description: product.description,\n      sizes: product.sizes,\n      colors: product.colors,\n      in_stock: product.inStock,\n      is_featured: product.isFeatured,\n      is_best_seller: product.isBestSeller,\n      stock_quantity: product.stockQuantity,\n      rating: product.rating,\n      reviews: product.reviews\n    };\n\n    let { error } = await supabase.from('products').insert([dbProduct]);\n\n    if (error && error.code === '23505' && error.message?.includes('slug')) {\n      const newSlug = `${slug}-${Math.floor(Math.random() * 10000)}`;\n      dbProduct.slug = newSlug;\n      const retryResult = await supabase.from('products').insert([dbProduct]);\n      error = retryResult.error;\n    }\n\n    if (!error) {\n      refreshData();\n    } else {\n      console.error(\"Error adding product:\", error);\n      throw error;\n    }\n  };\n\n  const updateProduct = async (product: Product) => {\n    const dbProduct = {\n      name: product.name,\n      price: product.price,\n      original_price: product.originalPrice,\n      categories: product.categories,\n      category: product.categories[0] || '',\n      image: product.image,\n      images: product.images,\n      short_description: product.shortDescription,\n      description: product.description,\n      sizes: product.sizes,\n      colors: product.colors,\n      in_stock: product.inStock,\n      is_featured: product.isFeatured,\n      is_best_seller: product.isBestSeller,\n      stock_quantity: product.stockQuantity\n    };\n\n    const { error } = await supabase.from('products').update(dbProduct).eq('id', product.id);\n    if (!error) refreshData();\n  };\n\n  const deleteProduct = async (id: string) => {\n    const { error } = await supabase.from('products').delete().eq('id', id);\n    if (!error) refreshData();\n  };\n\n  const addOrder = async (order: Order) => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { id, ...rest } = order;\n    const { error } = await supabase.from('orders').insert([{\n      items: order.items,\n      total: order.total,\n      customer: order.customer,\n      customer_name: order.customer.name, // Explicitly add customer_name to satisfy DB constraint\n      customer_phone: order.customer.phone, // Explicitly add customer_phone to satisfy DB constraint\n      customer_address: order.customer.address, // Explicitly add customer_address to satisfy DB constraint\n      customer_city: order.customer.city, // Explicitly add customer_city to satisfy DB constraint\n      status: order.status,\n      date: order.date\n    }]);\n\n    if (error) {\n      console.error(\"Error adding order:\", error);\n      throw error;\n    }\n\n    refreshData();\n  };\n\n  const updateOrderStatus = async (id: string, status: OrderStatus) => {\n    const { error } = await supabase.from('orders').update({ status }).eq('id', id);\n    if (!error) refreshData();\n  };\n\n  const deleteOrder = async (id: string) => {\n    const { error } = await supabase.from('orders').delete().eq('id', id);\n    if (!error) refreshData();\n  };\n\n  const addCategory = async (category: Category) => {\n    const { error } = await supabase.from('categories').insert([category]);\n    if (!error) refreshData();\n  };\n\n  const deleteCategory = async (id: string) => {\n    const { error } = await supabase.from('categories').delete().eq('id', id);\n    if (!error) refreshData();\n  };\n\n  const seedDatabase = async () => {\n    setIsLoading(true);\n    try {\n      // 1. Seed Categories - SKIPPED AS REQUESTED\n      // Categories must be added manually by the admin.\n\n      // 2. Seed Products\n      const { count } = await supabase.from('products').select('*', { count: 'exact', head: true });\n\n      if (count === 0) {\n        const dbProducts = [];\n        const usedSlugs: string[] = [];\n\n        for (const p of initialProducts) {\n          const slug = generateUniqueSlug(p.name, usedSlugs);\n          usedSlugs.push(slug);\n\n          dbProducts.push({\n            name: p.name,\n            slug: slug,\n            price: p.price,\n            original_price: p.originalPrice,\n            categories: p.categories,\n            category: p.categories[0],\n            image: p.image,\n            images: p.images,\n            short_description: p.shortDescription,\n            description: p.description,\n            sizes: p.sizes,\n            colors: p.colors,\n            in_stock: p.inStock,\n            is_featured: p.isFeatured,\n            is_best_seller: false,\n            is_new: p.isNew,\n            rating: p.rating,\n            reviews: p.reviews,\n            stock_quantity: p.stockQuantity,\n            tags: p.tags\n          });\n        }\n\n        const { error } = await supabase.from('products').insert(dbProducts);\n        if (error) console.error('Error seeding products:', error);\n      }\n\n      await refreshData();\n    } catch (err) {\n      console.error(\"Seeding failed\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <DataContext.Provider value={{\n      products, orders, categories,\n      addProduct, updateProduct, deleteProduct,\n      addOrder, updateOrderStatus, deleteOrder,\n      addCategory, deleteCategory,\n      refreshData, seedDatabase, isLoading\n    }}>\n      {children}\n    </DataContext.Provider>\n  );\n};\n\nexport const useData = () => {\n  const context = useContext(DataContext);\n  if (!context) throw new Error('useData must be used within a DataProvider');\n  return context;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 766, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { supabase } from '../lib/supabase';\n\ninterface AuthContextType {\n  isAuthenticated: boolean;\n  login: (email: string, pass: string, remember: boolean) => Promise<boolean>;\n  logout: () => void;\n  updateCredentials: (email: string, pass: string) => Promise<void>;\n  adminEmail: string;\n  isLoading: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  // Initialize directly from storage to prevent redirect loop on refresh\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [adminEmail, setAdminEmail] = useState('admin@luxe.com');\n\n  useEffect(() => {\n    const authLocal = localStorage.getItem('admin_auth');\n    const authSession = sessionStorage.getItem('admin_auth');\n    if (authLocal === 'true' || authSession === 'true') {\n      setIsAuthenticated(true);\n    }\n    // Fetch current admin email for display purposes\n    fetchAdminEmail().finally(() => {\n      setIsLoading(false);\n    });\n  }, []);\n\n  const fetchAdminEmail = async () => {\n    try {\n      const { data } = await supabase\n        .from('app_settings')\n        .select('value')\n        .eq('key', 'admin_email')\n        .single();\n\n      if (data) {\n        setAdminEmail(data.value);\n      }\n    } catch (error) {\n      console.error(\"Error fetching admin email:\", error);\n    }\n  };\n\n  const login = async (email: string, pass: string, remember: boolean) => {\n    try {\n      // Fetch credentials from DB\n      const { data: emailData } = await supabase\n        .from('app_settings')\n        .select('value')\n        .eq('key', 'admin_email')\n        .single();\n\n      const { data: passData } = await supabase\n        .from('app_settings')\n        .select('value')\n        .eq('key', 'admin_password')\n        .single();\n\n      const dbEmail = emailData?.value || 'admin@luxe.com';\n      const dbPass = passData?.value || 'admin123';\n\n      if (email === dbEmail && pass === dbPass) {\n        setIsAuthenticated(true);\n        setAdminEmail(dbEmail);\n\n        if (remember) {\n          localStorage.setItem('admin_auth', 'true');\n        } else {\n          sessionStorage.setItem('admin_auth', 'true');\n        }\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      // Fallback to hardcoded if DB fails (safety net)\n      if (email === 'admin@luxe.com' && pass === 'admin123') {\n        setIsAuthenticated(true);\n        return true;\n      }\n      return false;\n    }\n  };\n\n  const logout = () => {\n    setIsAuthenticated(false);\n    localStorage.removeItem('admin_auth');\n    sessionStorage.removeItem('admin_auth');\n  };\n\n  const updateCredentials = async (email: string, pass: string) => {\n    try {\n      // Update Email\n      const { error: emailError } = await supabase\n        .from('app_settings')\n        .upsert({ key: 'admin_email', value: email });\n\n      // Update Password\n      const { error: passError } = await supabase\n        .from('app_settings')\n        .upsert({ key: 'admin_password', value: pass });\n\n      if (emailError || passError) throw new Error(\"Failed to update credentials\");\n\n      setAdminEmail(email);\n    } catch (error) {\n      console.error(\"Error updating credentials:\", error);\n      throw error;\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={{ isAuthenticated, isLoading, login, logout, updateCredentials, adminEmail }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) throw new Error('useAuth must be used within a AuthProvider');\n  return context;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 898, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/utils/cn.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/components/layout/Header.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { ShoppingBag, Menu, X, Heart, ChevronDown, ChevronRight } from 'lucide-react';\nimport { useCart } from '../../context/CartContext';\nimport { useData } from '../../context/DataContext';\nimport { cn } from '../../utils/cn';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport const Header: React.FC = () => {\n  const { cartCount, setIsCartOpen, wishlist } = useCart();\n  const { categories } = useData();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [isCategoryOpen, setIsCategoryOpen] = useState(false);\n  const [isMobileCategoryOpen, setIsMobileCategoryOpen] = useState(true);\n  const categoryRef = useRef<HTMLDivElement>(null);\n  const pathname = usePathname();\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (categoryRef.current && !categoryRef.current.contains(event.target as Node)) {\n        setIsCategoryOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  useEffect(() => {\n    if (isMobileMenuOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n  }, [isMobileMenuOpen]);\n\n  return (\n    <header className=\"sticky top-0 z-40 bg-primary text-white shadow-lg\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex items-center justify-between h-20\">\n\n          {/* Mobile Layout */}\n          <div className=\"lg:hidden flex items-center justify-between w-full relative\">\n            <button\n              className=\"text-white hover:text-accent transition-colors relative p-2\"\n              onClick={() => setIsCartOpen(true)}\n            >\n              <ShoppingBag size={24} />\n              {cartCount > 0 && (\n                <span className=\"absolute top-0 right-0 bg-accent text-white text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full\">\n                  {cartCount}\n                </span>\n              )}\n            </button>\n\n            <Link href=\"/\" className=\"absolute left-1/2 -translate-x-1/2\">\n              <img\n                src=\"https://tes.marchecom.com/bigstock-logo-removebg-preview.png\"\n                alt=\"BigStock\"\n                className=\"h-10 w-auto object-contain\"\n              />\n            </Link>\n\n            <button\n              className=\"p-2 text-white hover:text-accent transition-colors\"\n              onClick={() => setIsMobileMenuOpen(true)}\n            >\n              <Menu size={28} />\n            </button>\n          </div>\n\n          {/* Desktop Logo */}\n          <Link href=\"/\" className=\"hidden lg:block\">\n            <img\n              src=\"https://tes.marchecom.com/bigstock-logo-removebg-preview.png\"\n              alt=\"BigStock\"\n              className=\"h-12 w-auto object-contain\"\n            />\n          </Link>\n\n          {/* Desktop Nav */}\n          <nav className=\"hidden lg:flex items-center space-x-8\">\n            <Link\n              href=\"/\"\n              className={cn(\n                \"text-sm font-medium tracking-wide transition-colors duration-200 hover:text-accent\",\n                pathname === '/' ? \"text-accent\" : \"text-gray-300\"\n              )}\n            >\n              ACCUEIL\n            </Link>\n\n            <Link\n              href=\"/shop\"\n              className={cn(\n                \"text-sm font-medium tracking-wide transition-colors duration-200 hover:text-accent\",\n                pathname === '/shop' ? \"text-accent\" : \"text-gray-300\"\n              )}\n            >\n              BOUTIQUE\n            </Link>\n\n            <div className=\"relative\" ref={categoryRef}>\n              <button\n                onClick={() => setIsCategoryOpen(!isCategoryOpen)}\n                className={cn(\n                  \"flex items-center text-sm font-medium tracking-wide transition-colors duration-200 hover:text-accent focus:outline-none\",\n                  pathname.includes('/category/') || isCategoryOpen ? \"text-accent\" : \"text-gray-300\"\n                )}\n              >\n                CATÉGORIES <ChevronDown size={14} className={`ml-1 transition-transform duration-200 ${isCategoryOpen ? 'rotate-180' : ''}`} />\n              </button>\n\n              <AnimatePresence>\n                {isCategoryOpen && (\n                  <motion.div\n                    initial={{ opacity: 0, y: 10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: 10 }}\n                    transition={{ duration: 0.2 }}\n                    className=\"absolute top-full left-0 w-48 bg-white shadow-xl rounded-md overflow-hidden py-2 mt-2\"\n                  >\n                    {categories.map((cat) => (\n                      <Link\n                        key={cat.id}\n                        href={`/category/${cat.name}`}\n                        onClick={() => setIsCategoryOpen(false)}\n                        className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-accent transition-colors\"\n                      >\n                        {cat.name}\n                      </Link>\n                    ))}\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n\n            <Link\n              href=\"/contact\"\n              className={cn(\n                \"text-sm font-medium tracking-wide transition-colors duration-200 hover:text-accent\",\n                pathname === '/contact' ? \"text-accent\" : \"text-gray-300\"\n              )}\n            >\n              CONTACT\n            </Link>\n          </nav>\n\n          {/* Desktop Icons */}\n          <div className=\"hidden lg:flex items-center space-x-6\">\n            <Link href=\"/wishlist\" className=\"text-gray-300 hover:text-accent transition-colors relative\" title=\"Favoris\">\n              <Heart size={20} />\n              {wishlist.length > 0 && (\n                <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full\">\n                  {wishlist.length}\n                </span>\n              )}\n            </Link>\n            <button\n              className=\"text-gray-300 hover:text-accent transition-colors relative\"\n              onClick={() => setIsCartOpen(true)}\n              title=\"Panier\"\n            >\n              <ShoppingBag size={20} />\n              {cartCount > 0 && (\n                <span className=\"absolute -top-2 -right-2 bg-accent text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full\">\n                  {cartCount}\n                </span>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Menu Drawer */}\n      <AnimatePresence>\n        {isMobileMenuOpen && (\n          <>\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              onClick={() => setIsMobileMenuOpen(false)}\n              className=\"fixed inset-0 bg-black/50 backdrop-blur-md z-50 lg:hidden\"\n            />\n\n            <motion.div\n              initial={{ x: '100%' }}\n              animate={{ x: 0 }}\n              exit={{ x: '100%' }}\n              transition={{ type: 'spring', damping: 25, stiffness: 200 }}\n              className=\"fixed inset-y-0 right-0 z-50 w-[70%] bg-primary border-l border-gray-800 shadow-2xl flex flex-col lg:hidden\"\n            >\n              <div className=\"flex items-center justify-between p-4 border-b border-gray-800\">\n                <span className=\"text-lg font-serif font-bold text-white uppercase\">Menu</span>\n                <button\n                  onClick={() => setIsMobileMenuOpen(false)}\n                  className=\"text-gray-400 hover:text-white transition-colors\"\n                >\n                  <X size={24} />\n                </button>\n              </div>\n\n              <div className=\"flex-1 overflow-y-auto py-4 px-4 space-y-4\">\n                <nav className=\"flex flex-col space-y-4\">\n                  <Link\n                    href=\"/\"\n                    className=\"text-base font-medium text-white hover:text-accent flex items-center justify-between group\"\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    ACCUEIL <span className=\"text-accent opacity-0 group-hover:opacity-100 transition-opacity\">→</span>\n                  </Link>\n\n                  <Link\n                    href=\"/shop\"\n                    className=\"text-base font-medium text-white hover:text-accent flex items-center justify-between group\"\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    BOUTIQUE <span className=\"text-accent opacity-0 group-hover:opacity-100 transition-opacity\">→</span>\n                  </Link>\n\n                  <div>\n                    <button\n                      onClick={() => setIsMobileCategoryOpen(!isMobileCategoryOpen)}\n                      className=\"w-full text-base font-medium text-white hover:text-accent flex items-center justify-between group\"\n                    >\n                      CATÉGORIES\n                      <ChevronRight\n                        size={18}\n                        className={`text-gray-500 transition-transform duration-300 ${isMobileCategoryOpen ? 'rotate-90 text-accent' : ''}`}\n                      />\n                    </button>\n\n                    <AnimatePresence>\n                      {isMobileCategoryOpen && (\n                        <motion.div\n                          initial={{ height: 0, opacity: 0 }}\n                          animate={{ height: 'auto', opacity: 1 }}\n                          exit={{ height: 0, opacity: 0 }}\n                          className=\"overflow-hidden\"\n                        >\n                          <div className=\"flex flex-col space-y-2 pl-3 pt-2 border-l border-gray-800 ml-1 mt-1\">\n                            {categories.map((cat) => (\n                              <Link\n                                key={cat.id}\n                                href={`/category/${cat.name}`}\n                                className=\"text-gray-400 hover:text-white text-sm\"\n                                onClick={() => setIsMobileMenuOpen(false)}\n                              >\n                                {cat.name}\n                              </Link>\n                            ))}\n                          </div>\n                        </motion.div>\n                      )}\n                    </AnimatePresence>\n                  </div>\n\n                  <Link\n                    href=\"/contact\"\n                    className=\"text-base font-medium text-white hover:text-accent flex items-center justify-between group\"\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    CONTACT <span className=\"text-accent opacity-0 group-hover:opacity-100 transition-opacity\">→</span>\n                  </Link>\n                </nav>\n              </div>\n\n              <div className=\"p-4 border-t border-gray-800 bg-gray-900/50\">\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <Link\n                    href=\"/wishlist\"\n                    className=\"flex flex-col items-center justify-center p-2 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors group\"\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    <div className=\"relative mb-1\">\n                      <Heart size={20} className=\"text-gray-300 group-hover:text-red-500 transition-colors\" />\n                      {wishlist.length > 0 && (\n                        <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-[9px] font-bold w-3.5 h-3.5 flex items-center justify-center rounded-full\">\n                          {wishlist.length}\n                        </span>\n                      )}\n                    </div>\n                    <span className=\"text-[10px] font-medium text-gray-400 group-hover:text-white\">Favoris</span>\n                  </Link>\n\n                  <button\n                    className=\"flex flex-col items-center justify-center p-2 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors group\"\n                    onClick={() => {\n                      setIsMobileMenuOpen(false);\n                      setIsCartOpen(true);\n                    }}\n                  >\n                    <div className=\"relative mb-1\">\n                      <ShoppingBag size={20} className=\"text-gray-300 group-hover:text-accent transition-colors\" />\n                      {cartCount > 0 && (\n                        <span className=\"absolute -top-1 -right-1 bg-accent text-white text-[9px] font-bold w-3.5 h-3.5 flex items-center justify-center rounded-full\">\n                          {cartCount}\n                        </span>\n                      )}\n                    </div>\n                    <span className=\"text-[10px] font-medium text-gray-400 group-hover:text-white\">Panier</span>\n                  </button>\n                </div>\n\n                <div className=\"mt-4 text-center\">\n                  <Link href=\"/shop\" onClick={() => setIsMobileMenuOpen(false)}>\n                    <button className=\"w-full bg-accent text-white font-bold py-2 rounded-md hover:bg-accent-hover transition-colors shadow-lg text-sm\">\n                      Commencer vos achats\n                    </button>\n                  </Link>\n                </div>\n              </div>\n            </motion.div>\n          </>\n        )}\n      </AnimatePresence>\n    </header>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1629, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '../../utils/cn';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\n  size?: 'sm' | 'md' | 'lg';\n  fullWidth?: boolean;\n}\n\nexport const Button: React.FC<ButtonProps> = ({ \n  children, \n  className, \n  variant = 'primary', \n  size = 'md', \n  fullWidth = false,\n  ...props \n}) => {\n  const baseStyles = \"inline-flex items-center justify-center font-medium transition-all duration-300 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed\";\n  \n  const variants = {\n    primary: \"bg-accent text-white hover:bg-accent-hover shadow-md hover:shadow-lg\",\n    secondary: \"bg-primary text-white hover:bg-gray-800\",\n    outline: \"border-2 border-accent text-accent hover:bg-accent hover:text-white\",\n    ghost: \"text-primary hover:bg-gray-100\"\n  };\n\n  const sizes = {\n    sm: \"text-xs px-4 py-2 rounded-sm\",\n    md: \"text-sm px-6 py-3 rounded-md\",\n    lg: \"text-base px-8 py-4 rounded-md\"\n  };\n\n  return (\n    <button \n      className={cn(\n        baseStyles, \n        variants[variant], \n        sizes[size], \n        fullWidth ? \"w-full\" : \"\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA;;;AAQO,MAAM,SAAgC,CAAC,EAC5C,QAAQ,EACR,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,YAAY,KAAK,EACjB,GAAG,OACJ;IACC,MAAM,aAAa;IAEnB,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;IACT;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6LAAC;QACC,WAAW,IAAA,2HAAE,EACX,YACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX,YAAY,WAAW,IACvB;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;KArCa"}},
    {"offset": {"line": 1670, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/components/cart/CartDrawer.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { X, Minus, Plus, Trash2 } from 'lucide-react';\nimport { useCart } from '../../context/CartContext';\nimport { Button } from '../ui/Button';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport const CartDrawer: React.FC = () => {\n  const { cart, isCartOpen, setIsCartOpen, removeFromCart, updateQuantity, cartTotal } = useCart();\n  const router = useRouter();\n\n  const handleCheckout = () => {\n    setIsCartOpen(false);\n    router.push('/checkout');\n  };\n\n  return (\n    <AnimatePresence>\n      {isCartOpen && (\n        <>\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={() => setIsCartOpen(false)}\n            className=\"fixed inset-0 bg-black/50 z-50 backdrop-blur-sm\"\n          />\n\n          <motion.div\n            initial={{ x: '100%' }}\n            animate={{ x: 0 }}\n            exit={{ x: '100%' }}\n            transition={{ type: 'spring', damping: 25, stiffness: 200 }}\n            className=\"fixed inset-y-0 right-0 z-50 w-full max-w-md bg-white shadow-2xl flex flex-col\"\n          >\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-100\">\n              <h2 className=\"text-xl font-serif font-bold text-primary\">Panier ({cart.length})</h2>\n              <button\n                onClick={() => setIsCartOpen(false)}\n                className=\"text-gray-400 hover:text-primary transition-colors\"\n              >\n                <X size={24} />\n              </button>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n              {cart.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center h-full text-gray-400\">\n                  <p className=\"mb-4\">Votre panier est vide</p>\n                  <Button variant=\"outline\" onClick={() => setIsCartOpen(false)}>Continuer vos achats</Button>\n                </div>\n              ) : (\n                cart.map((item) => (\n                  <div key={`${item.id}-${item.selectedSize}-${item.selectedColor}`} className=\"flex gap-4\">\n                    {/* STRICTLY FIT CONTENT */}\n                    <div className=\"w-20 h-24 flex-shrink-0 bg-gray-100 rounded-md overflow-hidden flex items-center justify-center p-1 border border-gray-100\">\n                      <img src={item.image} alt={item.name} className=\"w-full h-full object-contain object-center\" />\n                    </div>\n                    <div className=\"flex-1 flex flex-col justify-between\">\n                      <div>\n                        <h3 className=\"text-sm font-medium text-primary line-clamp-1\">{item.name}</h3>\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          {item.selectedSize && `Taille: ${item.selectedSize}`}\n                          {item.selectedSize && item.selectedColor && ' | '}\n                          {item.selectedColor && `Couleur: ${item.selectedColor}`}\n                        </p>\n                      </div>\n                      <div className=\"flex items-center justify-between mt-2\">\n                        <div className=\"flex items-center border border-gray-200 rounded-md\">\n                          <button\n                            onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                            className=\"p-1 hover:bg-gray-50 text-gray-500\"\n                            disabled={item.quantity <= 1}\n                          >\n                            <Minus size={14} />\n                          </button>\n                          <span className=\"px-2 text-sm font-medium\">{item.quantity}</span>\n                          <button\n                            onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                            className=\"p-1 hover:bg-gray-50 text-gray-500\"\n                          >\n                            <Plus size={14} />\n                          </button>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <span className=\"text-sm font-bold text-accent\">{(item.price * item.quantity).toFixed(2)} MAD</span>\n                          <button\n                            onClick={() => removeFromCart(item.id)}\n                            className=\"text-gray-400 hover:text-red-500 transition-colors\"\n                          >\n                            <Trash2 size={16} />\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n\n            {cart.length > 0 && (\n              <div className=\"p-6 border-t border-gray-100 bg-gray-50\">\n                <div className=\"flex justify-between mb-4 text-sm\">\n                  <span className=\"text-gray-500\">Sous-total</span>\n                  <span className=\"font-bold text-primary\">{cartTotal.toFixed(2)} MAD</span>\n                </div>\n                <div className=\"flex justify-between mb-6 text-sm\">\n                  <span className=\"text-gray-500\">Livraison</span>\n                  <span className=\"text-green-600 font-medium\">Gratuite</span>\n                </div>\n                <div className=\"flex justify-between mb-6 text-lg font-bold\">\n                  <span>Total</span>\n                  <span className=\"text-accent\">{cartTotal.toFixed(2)} MAD</span>\n                </div>\n                <Button fullWidth onClick={handleCheckout}>\n                  Commander\n                </Button>\n                <p className=\"text-center text-xs text-gray-400 mt-3\">\n                  Paiement à la livraison\n                </p>\n              </div>\n            )}\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2095, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/utils/analytics.ts"],"sourcesContent":["// Helper to inject external scripts dynamically\nconst injectScript = (id: string, src: string, content?: string) => {\n  if (document.getElementById(id)) return;\n  const script = document.createElement('script');\n  script.id = id;\n  if (src) script.src = src;\n  if (content) script.innerHTML = content;\n  script.async = true;\n  document.head.appendChild(script);\n};\n\nexport const analytics = {\n  initialize: () => {\n    const gaId = localStorage.getItem('ga_id');\n    \n    // Parse multiple IDs (stored as JSON arrays)\n    let pixelIds: string[] = [];\n    let tiktokIds: string[] = [];\n\n    try {\n      pixelIds = JSON.parse(localStorage.getItem('pixel_ids') || '[]');\n    } catch (e) {\n      // Fallback for old single string format\n      const oldId = localStorage.getItem('pixel_id');\n      if (oldId) pixelIds = [oldId];\n    }\n\n    try {\n      tiktokIds = JSON.parse(localStorage.getItem('tiktok_ids') || '[]');\n    } catch (e) {\n      // Fallback for old single string format\n      const oldId = localStorage.getItem('tiktok_id');\n      if (oldId) tiktokIds = [oldId];\n    }\n\n    // Google Analytics 4\n    if (gaId) {\n      injectScript('ga-lib', `https://www.googletagmanager.com/gtag/js?id=${gaId}`);\n      injectScript('ga-init', '', `\n        window.dataLayer = window.dataLayer || [];\n        function gtag(){dataLayer.push(arguments);}\n        gtag('js', new Date());\n        gtag('config', '${gaId}');\n      `);\n    }\n\n    // Meta Pixel (Multiple)\n    if (pixelIds.length > 0) {\n      const initCalls = pixelIds.map(id => `fbq('init', '${id}');`).join('\\n');\n      \n      injectScript('meta-pixel', '', `\n        !function(f,b,e,v,n,t,s)\n        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n        n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n        n.queue=[];t=b.createElement(e);t.async=!0;\n        t.src=v;s=b.getElementsByTagName(e)[0];\n        s.parentNode.insertBefore(t,s)}(window, document,'script',\n        'https://connect.facebook.net/en_US/fbevents.js');\n        ${initCalls}\n        fbq('track', 'PageView');\n      `);\n    }\n\n    // TikTok Pixel (Multiple)\n    if (tiktokIds.length > 0) {\n      const loadCalls = tiktokIds.map(id => `ttq.load('${id}');`).join('\\n');\n\n      injectScript('tiktok-pixel', '', `\n        !function (w, d, t) {\n          w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];\n          ttq.methods=[\"page\",\"track\",\"identify\",\"instances\",\"debug\",\"on\",\"off\",\"once\",\"ready\",\"alias\",\"group\",\"enableCookie\",\"disableCookie\"],\n          ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};\n          for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);\n          ttq.instance=function(t){for(var e=ttq.methods[i=0];i<ttq.methods.length;i++)ttq.setAndDefer(t,ttq.methods[i]);return t};\n          ttq.load=function(e,n){var i=\"https://analytics.tiktok.com/i18n/pixel/events.js\";\n          ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};\n          var o=document.createElement(\"script\");o.type=\"text/javascript\",o.async=!0,o.src=i+\"?sdkid=\"+e+\"&lib=\"+t;\n          var a=document.getElementsByTagName(\"script\")[0];a.parentNode.insertBefore(o,a)};\n          ${loadCalls}\n          ttq.page();\n        }(window, document, 'ttq');\n      `);\n    }\n  },\n\n  trackPageView: (path: string) => {\n    // GA4\n    if (typeof window.gtag === 'function') {\n      window.gtag('event', 'page_view', { page_path: path });\n    }\n    // Meta\n    if (typeof window.fbq === 'function') {\n      window.fbq('track', 'PageView');\n    }\n    // TikTok\n    if (typeof window.ttq === 'object') {\n      window.ttq.page();\n    }\n  },\n\n  trackPurchase: (orderId: string, value: number, currency = 'MAD') => {\n    // GA4\n    if (typeof window.gtag === 'function') {\n      window.gtag('event', 'purchase', {\n        transaction_id: orderId,\n        value: value,\n        currency: currency\n      });\n    }\n    // Meta\n    if (typeof window.fbq === 'function') {\n      window.fbq('track', 'Purchase', { value: value, currency: currency });\n    }\n    // TikTok\n    if (typeof window.ttq === 'object') {\n      window.ttq.track('PlaceAnOrder', { value: value, currency: currency });\n    }\n  }\n};\n\n// Types for global objects\ndeclare global {\n  interface Window {\n    gtag: any;\n    fbq: any;\n    ttq: any;\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,gDAAgD;AAChD,MAAM,eAAe,CAAC,IAAY,KAAa;IAC7C,IAAI,SAAS,cAAc,CAAC,KAAK;IACjC,MAAM,SAAS,SAAS,aAAa,CAAC;IACtC,OAAO,EAAE,GAAG;IACZ,IAAI,KAAK,OAAO,GAAG,GAAG;IACtB,IAAI,SAAS,OAAO,SAAS,GAAG;IAChC,OAAO,KAAK,GAAG;IACf,SAAS,IAAI,CAAC,WAAW,CAAC;AAC5B;AAEO,MAAM,YAAY;IACvB,YAAY;QACV,MAAM,OAAO,aAAa,OAAO,CAAC;QAElC,6CAA6C;QAC7C,IAAI,WAAqB,EAAE;QAC3B,IAAI,YAAsB,EAAE;QAE5B,IAAI;YACF,WAAW,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,gBAAgB;QAC7D,EAAE,OAAO,GAAG;YACV,wCAAwC;YACxC,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO,WAAW;gBAAC;aAAM;QAC/B;QAEA,IAAI;YACF,YAAY,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,iBAAiB;QAC/D,EAAE,OAAO,GAAG;YACV,wCAAwC;YACxC,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO,YAAY;gBAAC;aAAM;QAChC;QAEA,qBAAqB;QACrB,IAAI,MAAM;YACR,aAAa,UAAU,CAAC,4CAA4C,EAAE,MAAM;YAC5E,aAAa,WAAW,IAAI,CAAC;;;;wBAIX,EAAE,KAAK;MACzB,CAAC;QACH;QAEA,wBAAwB;QACxB,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,MAAM,YAAY,SAAS,GAAG,CAAC,CAAA,KAAM,CAAC,aAAa,EAAE,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC;YAEnE,aAAa,cAAc,IAAI,CAAC;;;;;;;;;QAS9B,EAAE,UAAU;;MAEd,CAAC;QACH;QAEA,0BAA0B;QAC1B,IAAI,UAAU,MAAM,GAAG,GAAG;YACxB,MAAM,YAAY,UAAU,GAAG,CAAC,CAAA,KAAM,CAAC,UAAU,EAAE,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC;YAEjE,aAAa,gBAAgB,IAAI,CAAC;;;;;;;;;;;UAW9B,EAAE,UAAU;;;MAGhB,CAAC;QACH;IACF;IAEA,eAAe,CAAC;QACd,MAAM;QACN,IAAI,OAAO,OAAO,IAAI,KAAK,YAAY;YACrC,OAAO,IAAI,CAAC,SAAS,aAAa;gBAAE,WAAW;YAAK;QACtD;QACA,OAAO;QACP,IAAI,OAAO,OAAO,GAAG,KAAK,YAAY;YACpC,OAAO,GAAG,CAAC,SAAS;QACtB;QACA,SAAS;QACT,IAAI,OAAO,OAAO,GAAG,KAAK,UAAU;YAClC,OAAO,GAAG,CAAC,IAAI;QACjB;IACF;IAEA,eAAe,CAAC,SAAiB,OAAe,WAAW,KAAK;QAC9D,MAAM;QACN,IAAI,OAAO,OAAO,IAAI,KAAK,YAAY;YACrC,OAAO,IAAI,CAAC,SAAS,YAAY;gBAC/B,gBAAgB;gBAChB,OAAO;gBACP,UAAU;YACZ;QACF;QACA,OAAO;QACP,IAAI,OAAO,OAAO,GAAG,KAAK,YAAY;YACpC,OAAO,GAAG,CAAC,SAAS,YAAY;gBAAE,OAAO;gBAAO,UAAU;YAAS;QACrE;QACA,SAAS;QACT,IAAI,OAAO,OAAO,GAAG,KAAK,UAAU;YAClC,OAAO,GAAG,CAAC,KAAK,CAAC,gBAAgB;gBAAE,OAAO;gBAAO,UAAU;YAAS;QACtE;IACF;AACF"}},
    {"offset": {"line": 2227, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chlgh/OneDrive/Desktop/bigstock/src/components/AnalyticsInit.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { usePathname } from 'next/navigation';\r\nimport { analytics } from '../utils/analytics';\r\n\r\nexport function AnalyticsInit() {\r\n    const pathname = usePathname();\r\n\r\n    useEffect(() => {\r\n        analytics.initialize();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n        analytics.trackPageView(pathname);\r\n    }, [pathname]);\r\n\r\n    return null;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AAMO,SAAS;;IACZ,MAAM,WAAW,IAAA,oJAAW;IAE5B,IAAA,0KAAS;mCAAC;YACN,yIAAS,CAAC,UAAU;QACxB;kCAAG,EAAE;IAEL,IAAA,0KAAS;mCAAC;YACN,OAAO,QAAQ,CAAC,GAAG;YACnB,yIAAS,CAAC,aAAa,CAAC;QAC5B;kCAAG;QAAC;KAAS;IAEb,OAAO;AACX;GAbgB;;QACK,oJAAW;;;KADhB"}}]
}