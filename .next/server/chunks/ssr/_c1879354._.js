module.exports=[24987,a=>{"use strict";let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},63519,a=>{"use strict";let b=(0,a.i(70106).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],63519)},25789,a=>{"use strict";let b=async(a,b)=>{let c="contact"===a?"https://script.google.com/macros/s/AKfycbwuq1UbyX7u2FtHWMe0J3sRKvJw3P0JoFly4foTcrJKafujI6TxK5P1k1s_nLasr_IXMA/exec":"https://script.google.com/macros/s/AKfycbznqz51QpjETR_lln8v-tlLY4JzXR6K7lPF9MSPWczlhjzTofOfiSK6icNPCeMG2UAS/exec";if(!c)return console.warn(`Google Script URL for ${a} not found. Data not sent.`),{status:"skipped"};try{let a=new URLSearchParams;return Object.keys(b).forEach(c=>{a.append(c,b[c])}),await fetch(c,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a.toString()}),{status:"success"}}catch(a){return console.error("Error submitting to Google Sheets:",a),{status:"error",error:a}}};a.s(["submitToGoogleSheets",0,b])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},10227,a=>{"use strict";let b=(0,a.i(70106).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["Truck",()=>b],10227)},4416,a=>{"use strict";let b=(0,a.i(70106).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["ShieldCheck",()=>b],4416)},94894,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(63933),f=a.i(8680),g=a.i(96438),h=a.i(10227),i=a.i(4416),j=a.i(24987),k=a.i(63519),l=a.i(70106);let m=(0,l.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),n=(0,l.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var o=a.i(96221),p=a.i(25789);let q=()=>{let{cart:a,cartTotal:l,clearCart:q}=(0,e.useCart)(),{addOrder:r}=(0,f.useData)(),s=(0,d.useRouter)(),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)({fullName:"",phone:"",address:"",city:"",notes:""});if((0,c.useEffect)(()=>{0!==a.length||v||s.push("/shop")},[a,s,v]),0===a.length&&!v)return null;let z=a=>{y({...x,[a.target.name]:a.target.value})},A=async b=>{b.preventDefault(),u(!0);let c={id:Date.now().toString(),items:a,total:l,customer:{name:x.fullName,phone:x.phone,address:x.address,city:x.city,notes:x.notes},date:new Date().toISOString(),status:"Pending"};try{await r(c);try{await (0,p.submitToGoogleSheets)("order",{orderId:c.id,customerName:c.customer.name,customerPhone:c.customer.phone,customerAddress:`${c.customer.address}, ${c.customer.city}`,total:c.total,items:c.items.map(a=>`${a.name} (${a.quantity}x ${a.selectedSize||""} ${a.selectedColor||""})`).join(", "),date:c.date})}catch(a){console.error("Google Sheets Backup Error:",a)}w(!0),q(),s.push("/order-success")}catch(a){console.error("Checkout Error:",a),alert("Une erreur est survenue lors de la commande. Veuillez vérifier votre connexion et réessayer."),u(!1)}};return(0,b.jsxs)("div",{className:"bg-gray-50 min-h-screen pb-20",children:[(0,b.jsx)("div",{className:"bg-primary text-white py-12 mb-12",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-serif font-bold mb-2",children:"Paiement Sécurisé"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Complétez votre commande avec le paiement à la livraison"})]})}),(0,b.jsx)("div",{className:"container mx-auto px-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 max-w-6xl mx-auto",children:[(0,b.jsx)("div",{className:"lg:col-span-7",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-8 pb-4 border-b border-gray-100",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-accent/10 rounded-full flex items-center justify-center text-accent",children:(0,b.jsx)(h.Truck,{size:20})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-primary",children:"Informations de Livraison"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Où devons-nous envoyer votre commande ?"})]})]}),(0,b.jsxs)("form",{id:"checkout-form",onSubmit:A,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,b.jsx)(m,{size:14,className:"text-gray-400"})," Nom Complet"]}),(0,b.jsx)("input",{required:!0,name:"fullName",value:x.fullName,onChange:z,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-gray-50 focus:bg-white focus:border-accent focus:ring-1 focus:ring-accent outline-none transition-all",placeholder:"Jean Dupont"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,b.jsx)(k.Phone,{size:14,className:"text-gray-400"})," Téléphone"]}),(0,b.jsx)("input",{required:!0,name:"phone",value:x.phone,onChange:z,type:"tel",className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-gray-50 focus:bg-white focus:border-accent focus:ring-1 focus:ring-accent outline-none transition-all",placeholder:"+212 600-000000"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,b.jsx)(j.MapPin,{size:14,className:"text-gray-400"})," Adresse"]}),(0,b.jsx)("input",{required:!0,name:"address",value:x.address,onChange:z,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-gray-50 focus:bg-white focus:border-accent focus:ring-1 focus:ring-accent outline-none transition-all",placeholder:"123 Avenue de la Mode, Apt 4B"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,b.jsx)(j.MapPin,{size:14,className:"text-gray-400"})," Ville"]}),(0,b.jsx)("input",{required:!0,name:"city",value:x.city,onChange:z,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-gray-50 focus:bg-white focus:border-accent focus:ring-1 focus:ring-accent outline-none transition-all",placeholder:"Casablanca"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,b.jsx)(n,{size:14,className:"text-gray-400"})," Notes (Optionnel)"]}),(0,b.jsx)("textarea",{name:"notes",value:x.notes,onChange:z,rows:3,className:"w-full px-4 py-3 rounded-lg border border-gray-200 bg-gray-50 focus:bg-white focus:border-accent focus:ring-1 focus:ring-accent outline-none transition-all resize-none",placeholder:"Instructions spéciales pour la livraison..."})]})]})]})}),(0,b.jsx)("div",{className:"lg:col-span-5",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-gray-100 sticky top-24",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-6 pb-4 border-b border-gray-100",children:"Récapitulatif"}),(0,b.jsx)("div",{className:"space-y-4 mb-8 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:a.map(a=>(0,b.jsxs)("div",{className:"flex gap-4 group",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-md overflow-hidden border border-gray-200 flex-shrink-0 flex items-center justify-center p-1",children:(0,b.jsx)("img",{src:a.image,alt:a.name,className:"w-full h-full object-contain object-center"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-primary truncate",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Qté: ",a.quantity,a.selectedSize&&(0,b.jsx)("span",{className:"mx-1",children:"•"}),a.selectedSize&&`Taille: ${a.selectedSize}`]})]}),(0,b.jsxs)("div",{className:"font-bold text-sm text-primary",children:[(a.price*a.quantity).toFixed(2)," MAD"]})]},`${a.id}-${a.selectedSize}-${a.selectedColor}`))}),(0,b.jsxs)("div",{className:"space-y-3 pt-4 border-t border-gray-100 bg-gray-50/50 -mx-8 px-8 pb-6 mb-6",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm pt-4",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Sous-total"}),(0,b.jsxs)("span",{className:"font-medium text-primary",children:[l.toFixed(2)," MAD"]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Livraison"}),(0,b.jsxs)("span",{className:"text-green-600 font-bold flex items-center gap-1",children:[(0,b.jsx)(i.ShieldCheck,{size:14})," Gratuite"]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xl font-bold pt-4 mt-2 border-t border-gray-200",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{className:"text-accent",children:[l.toFixed(2)," MAD"]})]})]}),(0,b.jsx)(g.Button,{type:"submit",form:"checkout-form",fullWidth:!0,size:"lg",disabled:t,className:"text-base sm:text-lg font-bold py-4 shadow-xl hover:shadow-2xl transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 whitespace-nowrap",children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Loader2,{className:"animate-spin",size:20})," Traitement..."]}):"Commander Maintenant"}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-4 text-xs text-gray-500 bg-gray-50 py-2 rounded-lg",children:[(0,b.jsx)(h.Truck,{size:14,className:"text-accent"}),(0,b.jsx)("span",{children:"Paiement à la livraison"})]})]})})]})})]})};function r(){return(0,b.jsx)(q,{})}a.s(["default",()=>r],94894)}];

//# sourceMappingURL=_c1879354._.js.map